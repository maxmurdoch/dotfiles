--
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


--
-- Name: hstore; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS hstore WITH SCHEMA public;


--
-- Name: EXTENSION hstore; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION hstore IS 'data type for storing sets of (key, value) pairs';


SET search_path = public, pg_catalog;

--
-- Name: base32(bigint, integer); Type: FUNCTION; Schema: public; Owner: -
--

CREATE FUNCTION base32(n bigint, min_width integer DEFAULT 1) RETURNS text
    LANGUAGE plpgsql
    AS $$
DECLARE
  chars char[];
  result text;
BEGIN
  chars := ARRAY['0','1','2','3','4','5','6','7','8','9','A','B','C','D','E',
    'F','G','H','J','K','M','N','P','Q','R', 'S','T','V','W','X','Y','Z'];
  result := '';

  WHILE n != 0 LOOP
    result = chars[n % 32 + 1] || result;
    n := n / 32;
  END LOOP;

  IF char_length(result) < min_width THEN
    result := lpad(result, min_width, '0');
  END IF;

  return result;
END;
$$;


--
-- Name: gen_gc_id(text, text, integer); Type: FUNCTION; Schema: public; Owner: -
--

CREATE FUNCTION gen_gc_id(prefix text, seq_name text, random_part_length integer DEFAULT 4) RETURNS text
    LANGUAGE plpgsql
    AS $$
    DECLARE
      seq_id bigint;
    BEGIN
      SELECT nextval(seq_name) INTO seq_id;
      return prefix || base32(seq_id, 8) || random_base32(random_part_length);
    END;
    $$;


--
-- Name: random_base32(integer); Type: FUNCTION; Schema: public; Owner: -
--

CREATE FUNCTION random_base32(ran_length integer) RETURNS text
    LANGUAGE plpgsql
    AS $$
    DECLARE
      res text;
    BEGIN
      SELECT array_to_string(array(select substr('0123456789ABCDEFGHJKMNPQRSTVWXYZ', trunc(random() * 32)::integer + 1, 1) FROM generate_series(1, ran_length)), '') INTO res;
      return res;
    END;
    $$;


SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: access_tokens; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE access_tokens (
    id character varying(32) DEFAULT gen_gc_id('AC'::text, 'access_tokens_id_seq'::text, 22) NOT NULL,
    name character varying,
    token character varying NOT NULL,
    scope character varying NOT NULL,
    last_version_used character varying,
    last_used_at timestamp without time zone,
    expires_at timestamp without time zone,
    organisation_id character varying,
    user_id character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    app_id character varying
);


--
-- Name: access_tokens_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE access_tokens_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: access_tokens_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE access_tokens_id_seq OWNED BY access_tokens.id;


--
-- Name: account_closures; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE account_closures (
    id character varying(32) DEFAULT gen_gc_id('CL'::text, 'account_closures_id_seq'::text) NOT NULL,
    creditor_id text NOT NULL,
    organisation_id text,
    reason character varying NOT NULL,
    risk_action_id text,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: account_closures_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE account_closures_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: account_closures_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE account_closures_id_seq OWNED BY account_closures.id;


--
-- Name: admin_comments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE admin_comments (
    id character varying(32) DEFAULT gen_gc_id('CM'::text, 'admin_comments_id_seq'::text) NOT NULL,
    user_id text NOT NULL,
    resource_type text NOT NULL,
    resource_id character varying(32) NOT NULL,
    message text NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: admin_comments_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE admin_comments_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: admin_comments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE admin_comments_id_seq OWNED BY admin_comments.id;


--
-- Name: app_fees; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE app_fees (
    id character varying(32) DEFAULT gen_gc_id('AF'::text, 'app_fees_id_seq'::text) NOT NULL,
    payment_action_id text,
    merchant_payout_id text,
    app_payout_id text,
    amount numeric(16,2) NOT NULL,
    currency character varying(3) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: app_fees_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE app_fees_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: app_fees_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE app_fees_id_seq OWNED BY app_fees.id;


--
-- Name: app_revenue_share_agreements; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE app_revenue_share_agreements (
    id character varying(32) DEFAULT gen_gc_id('ARSA'::text, 'app_revenue_share_agreements_id_seq'::text) NOT NULL,
    app_id text NOT NULL,
    percentage numeric(4,2) NOT NULL,
    start_at timestamp without time zone NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: app_revenue_share_agreements_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE app_revenue_share_agreements_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: app_revenue_share_agreements_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE app_revenue_share_agreements_id_seq OWNED BY app_revenue_share_agreements.id;


--
-- Name: apps; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE apps (
    id character varying(32) DEFAULT gen_gc_id('AP'::text, 'apps_id_seq'::text) NOT NULL,
    name character varying NOT NULL,
    description text NOT NULL,
    website_url character varying,
    client_id character varying(64) NOT NULL,
    client_secret character varying(64) NOT NULL,
    redirect_uri character varying NOT NULL,
    organisation_id character varying NOT NULL,
    enabled boolean DEFAULT true NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    must_use_payment_pages boolean NOT NULL,
    creditor_id character varying NOT NULL
);


--
-- Name: apps_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE apps_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: apps_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE apps_id_seq OWNED BY apps.id;


--
-- Name: authorisation_codes; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE authorisation_codes (
    id character varying(32) DEFAULT gen_gc_id('AU'::text, 'authorisation_codes_id_seq'::text) NOT NULL,
    code character varying NOT NULL,
    expires_at timestamp without time zone NOT NULL,
    app_id character varying NOT NULL,
    target_organisation_id character varying NOT NULL,
    redirect_uri character varying NOT NULL,
    scope character varying NOT NULL,
    access_token_id character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: authorisation_codes_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE authorisation_codes_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: authorisation_codes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE authorisation_codes_id_seq OWNED BY authorisation_codes.id;


--
-- Name: authorisation_links; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE authorisation_links (
    id character varying(32) DEFAULT gen_gc_id('AL'::text, 'authorisation_links_id_seq'::text) NOT NULL,
    creditor_id character varying NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    authorisation_request_id character varying,
    payments_require_approval boolean DEFAULT false NOT NULL,
    plan_id character varying,
    paylink_id text
);


--
-- Name: authorisation_links_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE authorisation_links_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: authorisation_links_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE authorisation_links_id_seq OWNED BY authorisation_links.id;


--
-- Name: authorisation_request_transitions; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE authorisation_request_transitions (
    id character varying(32) DEFAULT gen_gc_id('UT'::text, 'authorisation_request_transitions_id_seq'::text) NOT NULL,
    to_state character varying NOT NULL,
    metadata text DEFAULT '{}'::text,
    sort_key integer NOT NULL,
    authorisation_request_id character varying NOT NULL,
    most_recent boolean NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: authorisation_request_transitions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE authorisation_request_transitions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: authorisation_request_transitions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE authorisation_request_transitions_id_seq OWNED BY authorisation_request_transitions.id;


--
-- Name: authorisation_requests; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE authorisation_requests (
    id character varying(32) DEFAULT gen_gc_id('AR'::text, 'authorisation_requests_id_seq'::text) NOT NULL,
    customer_id character varying,
    creditor_id character varying NOT NULL,
    email character varying(255) NOT NULL,
    message character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    last_email_sent_at timestamp without time zone,
    language character varying(2)
);


--
-- Name: authorisation_requests_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE authorisation_requests_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: authorisation_requests_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE authorisation_requests_id_seq OWNED BY authorisation_requests.id;


--
-- Name: bank_account_transitions; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE bank_account_transitions (
    id character varying(32) DEFAULT gen_gc_id('BX'::text, 'bank_account_transitions_id_seq'::text) NOT NULL,
    to_state character varying NOT NULL,
    metadata json DEFAULT '{}'::json NOT NULL,
    sort_key integer NOT NULL,
    bank_account_id character varying NOT NULL,
    most_recent boolean NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: bank_account_transitions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE bank_account_transitions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: bank_account_transitions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE bank_account_transitions_id_seq OWNED BY bank_account_transitions.id;


--
-- Name: bank_accounts; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE bank_accounts (
    id character varying(32) DEFAULT gen_gc_id('BA'::text, 'bank_accounts_id_seq'::text) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    account_holder_name character varying(255) NOT NULL,
    country_code character varying(2) NOT NULL,
    encrypted_iban text NOT NULL,
    hashed_bank_details character varying(64) NOT NULL,
    blacklisted_bank_account_id character varying(16),
    account_number_ending character varying(255) NOT NULL,
    currency character varying(3) NOT NULL,
    creditor_id character varying(32),
    customer_id character varying(32),
    metadata hstore DEFAULT ''::hstore NOT NULL,
    bic character varying NOT NULL,
    sort_code character varying(6),
    swedish_credit_transfer_number character varying(5),
    CONSTRAINT bank_accounts_exactly_one_customer_or_creditor CHECK (((creditor_id IS NULL) <> (customer_id IS NULL)))
);


--
-- Name: bank_accounts_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE bank_accounts_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: bank_accounts_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE bank_accounts_id_seq OWNED BY bank_accounts.id;


--
-- Name: bank_report_entries; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE bank_report_entries (
    id character varying(32) DEFAULT gen_gc_id('BE'::text, 'bank_report_entries_id_seq'::text) NOT NULL,
    bank_report_id text NOT NULL,
    ddi_reference character varying(18) DEFAULT ''::character varying,
    reason_code character varying(10) NOT NULL,
    entry_data json DEFAULT '{}'::json NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


--
-- Name: bank_report_entries_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE bank_report_entries_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: bank_report_entries_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE bank_report_entries_id_seq OWNED BY bank_report_entries.id;


--
-- Name: bank_report_entry_transitions; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE bank_report_entry_transitions (
    id character varying(32) DEFAULT gen_gc_id('BT'::text, 'bank_report_entry_transitions_id_seq'::text) NOT NULL,
    to_state character varying(255) NOT NULL,
    metadata json DEFAULT '{}'::json NOT NULL,
    sort_key integer NOT NULL,
    bank_report_entry_id text NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    most_recent boolean NOT NULL
);


--
-- Name: bank_report_entry_transitions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE bank_report_entry_transitions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: bank_report_entry_transitions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE bank_report_entry_transitions_id_seq OWNED BY bank_report_entry_transitions.id;


--
-- Name: bank_reports; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE bank_reports (
    id character varying(32) DEFAULT gen_gc_id('BR'::text, 'bank_reports_id_seq'::text) NOT NULL,
    sun_id text,
    source character varying(255) NOT NULL,
    report_type character varying(255) NOT NULL,
    signature_sha512 character varying(255) NOT NULL,
    header_data json DEFAULT '{}'::json NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    bank_submission_id text,
    circulation_date date NOT NULL
);


--
-- Name: bank_reports_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE bank_reports_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: bank_reports_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE bank_reports_id_seq OWNED BY bank_reports.id;


--
-- Name: bank_submission_batches; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE bank_submission_batches (
    id character varying(32) DEFAULT gen_gc_id('BS'::text, 'bank_submission_batches_id_seq'::text) NOT NULL,
    bank_submission_id character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: bank_submission_batches_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE bank_submission_batches_id_seq
    START WITH 46000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: bank_submission_batches_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE bank_submission_batches_id_seq OWNED BY bank_submission_batches.id;


--
-- Name: bank_submissions; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE bank_submissions (
    id character varying(32) DEFAULT gen_gc_id('BF'::text, 'bank_submissions_id_seq'::text) NOT NULL,
    submitted_at timestamp without time zone,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    scheme text NOT NULL,
    sun_id text NOT NULL,
    message_id character varying
);


--
-- Name: bank_submissions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE bank_submissions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: bank_submissions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE bank_submissions_id_seq OWNED BY bank_submissions.id;


--
-- Name: billing_contacts; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE billing_contacts (
    id character varying(32) DEFAULT gen_gc_id('BC'::text, 'billing_contacts_id_seq'::text) NOT NULL,
    given_name character varying(255) NOT NULL,
    family_name character varying(255) NOT NULL,
    email character varying(255) NOT NULL,
    phone_number character varying(30),
    organisation_id text NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: billing_contacts_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE billing_contacts_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: billing_contacts_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE billing_contacts_id_seq OWNED BY billing_contacts.id;


--
-- Name: blacklisted_bank_accounts; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE blacklisted_bank_accounts (
    id character varying(16) DEFAULT gen_gc_id('BB'::text, 'blacklisted_bank_accounts_id_seq'::text) NOT NULL,
    hashed_iban character varying(255) NOT NULL,
    reason text,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    encrypted_iban text NOT NULL,
    bic character varying NOT NULL
);


--
-- Name: blacklisted_bank_accounts_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE blacklisted_bank_accounts_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: blacklisted_bank_accounts_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE blacklisted_bank_accounts_id_seq OWNED BY blacklisted_bank_accounts.id;


--
-- Name: charity_details; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE charity_details (
    id character varying(32) DEFAULT gen_gc_id('CH'::text, 'charity_details_id_seq'::text) NOT NULL,
    creditor_id character varying NOT NULL,
    description text NOT NULL,
    name character varying NOT NULL,
    charity_number character varying,
    charity_type character varying NOT NULL,
    address_line1 character varying NOT NULL,
    address_line2 character varying,
    address_line3 character varying,
    city character varying NOT NULL,
    region character varying,
    postal_code character varying(16),
    country_code character varying(2) NOT NULL,
    trustees json DEFAULT '[]'::json NOT NULL,
    signatories json DEFAULT '[]'::json NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: charity_details_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE charity_details_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: charity_details_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE charity_details_id_seq OWNED BY charity_details.id;


--
-- Name: company_details; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE company_details (
    id character varying(32) DEFAULT gen_gc_id('CO'::text, 'company_details_id_seq'::text) NOT NULL,
    creditor_id character varying NOT NULL,
    name character varying,
    company_number character varying NOT NULL,
    address_line1 character varying,
    address_line2 character varying,
    address_line3 character varying,
    city character varying,
    region character varying,
    postal_code character varying(16),
    country_code character varying(2) NOT NULL,
    directors json DEFAULT '[]'::json NOT NULL,
    secretaries json DEFAULT '[]'::json NOT NULL,
    shareholders json DEFAULT '[]'::json NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    description text NOT NULL
);


--
-- Name: company_details_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE company_details_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: company_details_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE company_details_id_seq OWNED BY company_details.id;


--
-- Name: credit_transitions; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE credit_transitions (
    id character varying(32) DEFAULT gen_gc_id('CT'::text, 'credit_transitions_id_seq'::text) NOT NULL,
    to_state character varying(255) NOT NULL,
    metadata text DEFAULT '{}'::text NOT NULL,
    sort_key integer NOT NULL,
    credit_id text NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    most_recent boolean NOT NULL,
    bank_submission_batch_id text
);


--
-- Name: credit_transitions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE credit_transitions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: credit_transitions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE credit_transitions_id_seq OWNED BY credit_transitions.id;


--
-- Name: creditor_restrictions; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE creditor_restrictions (
    id character varying(32) DEFAULT gen_gc_id('CE'::text, 'creditor_restrictions_id_seq'::text) NOT NULL,
    creditor_id text NOT NULL,
    name character varying NOT NULL,
    verification_id text,
    removed_at timestamp without time zone,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    CONSTRAINT creditor_restrictions_removed_at_must_be_null_for_account_close CHECK (((((name)::text = 'account_closed'::text) AND (removed_at IS NULL)) OR ((name)::text <> 'account_closed'::text)))
);


--
-- Name: creditor_restrictions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE creditor_restrictions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: creditor_restrictions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE creditor_restrictions_id_seq OWNED BY creditor_restrictions.id;


--
-- Name: creditors; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE creditors (
    id character varying(32) DEFAULT gen_gc_id('CR'::text, 'seq_creditors_id_seq'::text) NOT NULL,
    bank_reference character varying(12) DEFAULT ''::character varying,
    holding_period smallint DEFAULT 1 NOT NULL,
    payout_interval smallint DEFAULT 0 NOT NULL,
    payout_enabled boolean DEFAULT true NOT NULL,
    gbp_payout_interval smallint DEFAULT 0 NOT NULL,
    invoice_fees boolean DEFAULT false NOT NULL,
    default_gbp_payout_account_id character varying(32),
    default_eur_payout_account_id character varying(32),
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    organisation_id character varying(32) NOT NULL,
    name character varying(255) NOT NULL,
    address_line1 character varying(255),
    address_line2 character varying(255),
    address_line3 character varying(255),
    city character varying(255),
    region character varying(255),
    postal_code character varying(16),
    country_code character varying(2),
    logo_id text,
    company_detail_id character varying(32),
    individual_detail_id character varying(32),
    delivered_emails integer DEFAULT 0 NOT NULL,
    bounced_emails integer DEFAULT 0 NOT NULL,
    eur_payout_interval smallint DEFAULT 0 NOT NULL,
    default_sek_payout_account_id text,
    fraud_score double precision,
    charity_detail_id character varying,
    sek_payout_interval integer DEFAULT 0 NOT NULL,
    CONSTRAINT creditors_at_most_one_company_or_individual_or_charity_detail_i CHECK ((((company_detail_id IS NULL) OR (individual_detail_id IS NULL)) OR (charity_detail_id IS NULL)))
);


--
-- Name: credits; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE credits (
    id character varying(32) DEFAULT gen_gc_id('CD'::text, 'credits_id_seq'::text) NOT NULL,
    amount numeric(16,2) NOT NULL,
    currency character varying(3) NOT NULL,
    bank_account_id text NOT NULL,
    payment_method character varying(255) NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    outbound_payment_id text,
    refund_id text,
    payout_id text,
    source_account_name character varying(50) NOT NULL,
    gocardless_reference character varying(18) NOT NULL,
    customer_reference text NOT NULL
);


--
-- Name: credits_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE credits_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: credits_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE credits_id_seq OWNED BY credits.id;


--
-- Name: customer_bank_account_tokens; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE customer_bank_account_tokens (
    id character varying(32) DEFAULT gen_gc_id('AT'::text, 'customer_bank_account_tokens_id_seq'::text, 22) NOT NULL,
    organisation_id text NOT NULL,
    bank_account_id text,
    used boolean DEFAULT false NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    account_holder_name character varying,
    encrypted_iban text,
    bic character varying,
    hashed_bank_details character varying(64),
    account_number_ending character varying,
    country_code character varying,
    currency character varying(3),
    sort_code character varying(6)
);


--
-- Name: customer_bank_account_tokens_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE customer_bank_account_tokens_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: customer_bank_account_tokens_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE customer_bank_account_tokens_id_seq OWNED BY customer_bank_account_tokens.id;


--
-- Name: customers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE customers (
    id character varying(32) DEFAULT gen_gc_id('CU'::text, 'seq_customers_id_seq'::text) NOT NULL,
    default_gbp_payment_account_id character varying(32),
    default_eur_payment_account_id character varying(32),
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    organisation_id character varying(32) NOT NULL,
    address_line1 character varying(255),
    address_line2 character varying(255),
    address_line3 character varying(255),
    city character varying(255),
    region character varying(255),
    postal_code character varying(16),
    country_code character varying(2),
    email character varying(255),
    given_name character varying(255),
    family_name character varying(255),
    metadata hstore DEFAULT ''::hstore NOT NULL,
    company_name character varying(255),
    language character varying(2) NOT NULL,
    swedish_identity_number character varying(12)
);


--
-- Name: developer_contacts; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE developer_contacts (
    id character varying(32) DEFAULT gen_gc_id('DC'::text, 'developer_contacts_id_seq'::text) NOT NULL,
    given_name character varying(255),
    family_name character varying(255),
    email character varying(255) NOT NULL,
    organisation_id text NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: developer_contacts_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE developer_contacts_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: developer_contacts_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE developer_contacts_id_seq OWNED BY developer_contacts.id;


--
-- Name: events; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE events (
    id character varying(32) DEFAULT gen_gc_id('EV'::text, 'events_id_seq'::text) NOT NULL,
    resource_type character varying(255) NOT NULL,
    action character varying(255) NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    organisation_id character varying(32) NOT NULL,
    payment_id character varying(255),
    mandate_id character varying(255),
    payout_id character varying(255),
    details json DEFAULT '{}'::json NOT NULL,
    refund_id text,
    metadata hstore DEFAULT ''::hstore NOT NULL,
    subscription_id text,
    parent_event_id text,
    gc_data json,
    CONSTRAINT events_exactly_one_payment_or_mandate_or_payout_or_refund_or_su CHECK ((((((((((payment_id IS NOT NULL) AND (mandate_id IS NULL)) AND (payout_id IS NULL)) AND (refund_id IS NULL)) AND (subscription_id IS NULL)) OR (((((payment_id IS NULL) AND (mandate_id IS NOT NULL)) AND (payout_id IS NULL)) AND (refund_id IS NULL)) AND (subscription_id IS NULL))) OR (((((payment_id IS NULL) AND (mandate_id IS NULL)) AND (payout_id IS NOT NULL)) AND (refund_id IS NULL)) AND (subscription_id IS NULL))) OR (((((payment_id IS NULL) AND (mandate_id IS NULL)) AND (payout_id IS NULL)) AND (refund_id IS NOT NULL)) AND (subscription_id IS NULL))) OR (((((payment_id IS NULL) AND (mandate_id IS NULL)) AND (payout_id IS NULL)) AND (refund_id IS NULL)) AND (subscription_id IS NOT NULL))))
);


--
-- Name: events_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE events_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: events_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE events_id_seq OWNED BY events.id;


--
-- Name: idempotency_keys; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE idempotency_keys (
    id character varying(32) DEFAULT gen_gc_id('ID'::text, 'idempotency_keys_id_seq'::text) NOT NULL,
    organisation_id text NOT NULL,
    resource_type text NOT NULL,
    resource_id text NOT NULL,
    key character varying(128) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: idempotency_keys_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE idempotency_keys_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: idempotency_keys_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE idempotency_keys_id_seq OWNED BY idempotency_keys.id;


--
-- Name: individual_details; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE individual_details (
    id character varying(32) DEFAULT gen_gc_id('IV'::text, 'individual_details_id_seq'::text) NOT NULL,
    creditor_id character varying NOT NULL,
    description text NOT NULL,
    person json DEFAULT '{}'::json NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: individual_details_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE individual_details_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: individual_details_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE individual_details_id_seq OWNED BY individual_details.id;


--
-- Name: invoices; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE invoices (
    id character varying(32) DEFAULT gen_gc_id('IN'::text, 'invoices_id_seq'::text) NOT NULL,
    organisation_id text NOT NULL,
    month date NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: invoices_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE invoices_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: invoices_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE invoices_id_seq OWNED BY invoices.id;


--
-- Name: legal_entity_checks; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE legal_entity_checks (
    id character varying(32) DEFAULT gen_gc_id('EC'::text, 'legal_entity_checks_id_seq'::text) NOT NULL,
    verification_transition_id character varying(32) NOT NULL,
    entity_type character varying(255) NOT NULL,
    country_code character varying(255) NOT NULL,
    response_provider character varying(255) NOT NULL,
    request_data json NOT NULL,
    response_data json NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: legal_entity_checks_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE legal_entity_checks_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: legal_entity_checks_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE legal_entity_checks_id_seq OWNED BY legal_entity_checks.id;


--
-- Name: logos; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE logos (
    id character varying(32) DEFAULT gen_gc_id('LO'::text, 'logos_id_seq'::text) NOT NULL,
    organisation_id text NOT NULL,
    url text NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: logos_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE logos_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: logos_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE logos_id_seq OWNED BY logos.id;


--
-- Name: mandate_caps; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE mandate_caps (
    id character varying(32) DEFAULT gen_gc_id('MC'::text, 'mandate_caps_id_seq'::text) NOT NULL,
    "interval" integer DEFAULT 1 NOT NULL,
    interval_unit character varying NOT NULL,
    start_date date NOT NULL,
    day_of_month integer,
    maximum_amount numeric(16,2) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: mandate_caps_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE mandate_caps_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: mandate_caps_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE mandate_caps_id_seq OWNED BY mandate_caps.id;


--
-- Name: mandate_histories; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE mandate_histories (
    id character varying(32) DEFAULT gen_gc_id('MH'::text, 'mandate_histories_id_seq'::text) NOT NULL,
    mandate_id character varying(32) NOT NULL,
    source character varying(32) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    action character varying(255),
    to_state character varying(255) NOT NULL,
    metadata text DEFAULT '{}'::text,
    sort_key integer NOT NULL,
    bank_report_entry_id text,
    most_recent boolean NOT NULL,
    bank_submission_batch_id text
);


--
-- Name: mandate_histories_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE mandate_histories_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: mandate_histories_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE mandate_histories_id_seq OWNED BY mandate_histories.id;


--
-- Name: mandates; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE mandates (
    id character varying(32) DEFAULT gen_gc_id('MD'::text, 'mandates_id_seq'::text) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    bank_account_id character varying(32) NOT NULL,
    scheme character varying(10) NOT NULL,
    submitted_at timestamp without time zone,
    reference character varying(18) NOT NULL,
    sun_id character varying(32) NOT NULL,
    creditor_merchant_id text NOT NULL,
    metadata hstore DEFAULT ''::hstore NOT NULL,
    payments_require_approval boolean DEFAULT false NOT NULL,
    mandate_cap_id character varying
);


--
-- Name: mandates_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE mandates_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: mandates_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE mandates_id_seq OWNED BY mandates.id;


--
-- Name: monthly_fee_templates; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE monthly_fee_templates (
    id character varying(32) DEFAULT gen_gc_id('MT'::text, 'monthly_fee_templates_id_seq'::text) NOT NULL,
    organisation_id text NOT NULL,
    amount numeric(16,4) NOT NULL,
    currency character varying(3) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    start_month date NOT NULL
);


--
-- Name: monthly_fee_templates_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE monthly_fee_templates_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: monthly_fee_templates_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE monthly_fee_templates_id_seq OWNED BY monthly_fee_templates.id;


--
-- Name: monthly_fees; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE monthly_fees (
    id character varying(32) DEFAULT gen_gc_id('MF'::text, 'monthly_fees_id_seq'::text) NOT NULL,
    organisation_id text NOT NULL,
    amount numeric(16,4) NOT NULL,
    currency character varying(3) NOT NULL,
    month date NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    invoice_id text,
    monthly_fee_template_id text
);


--
-- Name: monthly_fees_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE monthly_fees_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: monthly_fees_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE monthly_fees_id_seq OWNED BY monthly_fees.id;


--
-- Name: organisations; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE organisations (
    id character varying(32) DEFAULT gen_gc_id('OR'::text, 'organisations_id_seq'::text) NOT NULL,
    name character varying(100) NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    sun_group_id character varying NOT NULL,
    customer_notifications_enabled boolean NOT NULL,
    must_use_payment_pages boolean NOT NULL,
    whitelabel_partner_endpoints_enabled boolean NOT NULL,
    ga_client_id text,
    ga_user_id text,
    signup_source text,
    signup_app_id character varying(32),
    gc_merchant_id character varying(32),
    hutch_enabled boolean,
    CONSTRAINT organisations_analytics_fields_all_present_or_absent CHECK (((((ga_client_id IS NULL) AND (ga_user_id IS NULL)) AND (signup_source IS NULL)) OR (((ga_client_id IS NOT NULL) AND (ga_user_id IS NOT NULL)) AND (signup_source IS NOT NULL)))),
    CONSTRAINT organisations_signup_app_present_for_partner_signup CHECK (((signup_source <> 'partner'::text) OR (signup_app_id IS NOT NULL)))
);


--
-- Name: organisations_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE organisations_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: organisations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE organisations_id_seq OWNED BY organisations.id;


--
-- Name: outbound_payments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE outbound_payments (
    id character varying(32) DEFAULT gen_gc_id('OP'::text, 'outbound_payments_id_seq'::text) NOT NULL,
    amount numeric(16,2) NOT NULL,
    currency character varying(3) NOT NULL,
    bank_account_id text NOT NULL,
    credit_id text,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    risk_action_id text
);


--
-- Name: outbound_payments_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE outbound_payments_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: outbound_payments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE outbound_payments_id_seq OWNED BY outbound_payments.id;


--
-- Name: payments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE payments (
    id character varying(32) DEFAULT gen_gc_id('PM'::text, 'payments_id_seq'::text) NOT NULL,
    amount numeric(16,2) DEFAULT 0.0 NOT NULL,
    currency character varying(3) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    mandate_id character varying(32) NOT NULL,
    transaction_fee numeric(16,2) DEFAULT 0.0 NOT NULL,
    partner_fee numeric(16,2) DEFAULT 0.0 NOT NULL,
    is_scheduled boolean DEFAULT false NOT NULL,
    creditor_merchant_id character varying(32) NOT NULL,
    creditor_partner_id character varying(32),
    description text,
    metadata hstore DEFAULT ''::hstore NOT NULL,
    unique_creation_token text,
    organisation_id text,
    subscription_id text,
    reference character varying(140),
    full_submission_reference text,
    charge_date date NOT NULL,
    app_fee numeric(16,2),
    app_id text,
    source character varying,
    paylink_id text,
    CONSTRAINT payments_unique_creation_token_set_for_subscription_ids CHECK (((subscription_id IS NULL) OR (unique_creation_token IS NOT NULL)))
);


--
-- Name: outgoing_payment_actions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE outgoing_payment_actions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: outgoing_payment_actions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE outgoing_payment_actions_id_seq OWNED BY payments.id;


--
-- Name: outgoing_payments_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE outgoing_payments_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: outgoing_payments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE outgoing_payments_id_seq OWNED BY payments.id;


--
-- Name: password_reset_tokens; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE password_reset_tokens (
    id character varying(32) DEFAULT gen_gc_id('PR'::text, 'password_reset_tokens_id_seq'::text) NOT NULL,
    token character varying(32) NOT NULL,
    user_id character varying(255) NOT NULL,
    used_at timestamp without time zone,
    expires_at timestamp without time zone NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


--
-- Name: password_reset_tokens_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE password_reset_tokens_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: password_reset_tokens_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE password_reset_tokens_id_seq OWNED BY password_reset_tokens.id;


--
-- Name: paylink_histories; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE paylink_histories (
    id character varying(32) DEFAULT gen_gc_id('PH'::text, 'paylink_histories_id_seq'::text) NOT NULL,
    paylink_id text NOT NULL,
    name character varying NOT NULL,
    amount numeric(16,2) NOT NULL,
    redirect_url text,
    payments_require_approval boolean NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: paylink_histories_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE paylink_histories_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: paylink_histories_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE paylink_histories_id_seq OWNED BY paylink_histories.id;


--
-- Name: paylinks; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE paylinks (
    id character varying(32) DEFAULT gen_gc_id('PY'::text, 'paylinks_id_seq'::text) NOT NULL,
    creditor_id text NOT NULL,
    authorisation_link_id character varying,
    name character varying NOT NULL,
    currency character varying(3) NOT NULL,
    amount numeric(16,2) NOT NULL,
    redirect_url text,
    payments_require_approval boolean NOT NULL,
    disabled_at timestamp without time zone,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: paylinks_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE paylinks_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: paylinks_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE paylinks_id_seq OWNED BY paylinks.id;


--
-- Name: payment_actions; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE payment_actions (
    id character varying(32) DEFAULT gen_gc_id('PA'::text, 'payment_actions_id_seq'::text) NOT NULL,
    payment_id character varying(32) NOT NULL,
    mandate_id character varying(32),
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    to_state character varying(255) NOT NULL,
    metadata text DEFAULT '{}'::text,
    sort_key integer NOT NULL,
    merchant_payout_id text,
    partner_payout_id text,
    bank_report_entry_id text,
    most_recent boolean NOT NULL,
    bank_submission_batch_id text
);


--
-- Name: payment_actions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE payment_actions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: payment_actions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE payment_actions_id_seq OWNED BY payment_actions.id;


--
-- Name: payments_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE payments_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: payments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE payments_id_seq OWNED BY payments.id;


--
-- Name: payouts; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE payouts (
    id character varying(32) DEFAULT gen_gc_id('PO'::text, 'payouts_id_seq'::text) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    amount numeric(16,2) DEFAULT 0.0 NOT NULL,
    bank_account_id character varying(32) NOT NULL,
    referral_type character varying(255) DEFAULT 'none'::character varying,
    currency character varying(3) DEFAULT 'GBP'::character varying NOT NULL,
    invoice_fees boolean DEFAULT false NOT NULL,
    transaction_fees_gbp numeric(16,2) DEFAULT 0,
    transaction_fees_eur numeric(16,2) DEFAULT 0,
    partner_fees_gbp numeric(16,2) DEFAULT 0,
    partner_fees_eur numeric(16,2) DEFAULT 0,
    partner_creditor_ids text[] DEFAULT '{}'::text[]
);


--
-- Name: payouts_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE payouts_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: payouts_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE payouts_id_seq OWNED BY payouts.id;


--
-- Name: pending_event_notifications; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE pending_event_notifications (
    id character varying(32) DEFAULT gen_gc_id('PN'::text, 'pending_event_notifications_id_seq'::text) NOT NULL,
    event_id character varying(255) NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


--
-- Name: pending_event_notifications_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE pending_event_notifications_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: pending_event_notifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE pending_event_notifications_id_seq OWNED BY pending_event_notifications.id;


--
-- Name: pending_resources; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE pending_resources (
    id character varying(32) DEFAULT gen_gc_id('PD'::text, 'pending_resources_id_seq'::text) NOT NULL,
    organisation_id text NOT NULL,
    creditor_id text NOT NULL,
    customer_id text,
    bank_account_id text,
    mandate_id text,
    given_name character varying(255),
    family_name character varying(255),
    address_line1 character varying(255),
    address_line2 character varying(255),
    address_line3 character varying(255),
    city character varying(255),
    region character varying(255),
    postal_code character varying(16),
    account_holder_name character varying(255),
    encrypted_iban text,
    hashed_bank_details character varying(64),
    account_number_ending character varying(255),
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    bic character varying,
    email text NOT NULL,
    country_code text NOT NULL,
    sort_code character varying(6),
    scheme character varying(10) NOT NULL,
    company_name character varying(255),
    language character varying(2),
    swedish_identity_number character varying(12)
);


--
-- Name: pending_resources_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE pending_resources_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: pending_resources_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE pending_resources_id_seq OWNED BY pending_resources.id;


--
-- Name: plans; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE plans (
    id character varying(32) DEFAULT gen_gc_id('PL'::text, 'plans_id_seq'::text) NOT NULL,
    organisation_id character varying NOT NULL,
    amount numeric(16,2) NOT NULL,
    name character varying NOT NULL,
    day_of_month integer,
    day_of_week integer,
    month character varying(9),
    "interval" integer DEFAULT 1 NOT NULL,
    interval_unit character varying NOT NULL,
    payment_reference character varying(140),
    currency character varying(3) NOT NULL,
    redirect_url character varying,
    cancelled_at date,
    count integer,
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


--
-- Name: plans_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE plans_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: plans_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE plans_id_seq OWNED BY plans.id;


--
-- Name: publishable_access_tokens; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE publishable_access_tokens (
    id character varying(32) DEFAULT gen_gc_id('PT'::text, 'publishable_access_tokens_id_seq'::text) NOT NULL,
    token character varying(64) NOT NULL,
    name character varying,
    organisation_id character varying NOT NULL,
    enabled boolean DEFAULT true NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: publishable_access_tokens_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE publishable_access_tokens_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: publishable_access_tokens_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE publishable_access_tokens_id_seq OWNED BY publishable_access_tokens.id;


--
-- Name: que_jobs; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE que_jobs (
    priority smallint DEFAULT 100 NOT NULL,
    run_at timestamp with time zone DEFAULT now() NOT NULL,
    job_id bigint NOT NULL,
    job_class text NOT NULL,
    args json DEFAULT '[]'::json NOT NULL,
    error_count integer DEFAULT 0 NOT NULL,
    last_error text,
    queue text DEFAULT ''::text NOT NULL,
    retryable boolean DEFAULT true,
    failed_at timestamp with time zone
);


--
-- Name: TABLE que_jobs; Type: COMMENT; Schema: public; Owner: -
--

COMMENT ON TABLE que_jobs IS '4';


--
-- Name: que_jobs_job_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE que_jobs_job_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: que_jobs_job_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE que_jobs_job_id_seq OWNED BY que_jobs.job_id;


--
-- Name: redirect_flows; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE redirect_flows (
    id character varying(32) DEFAULT gen_gc_id('RE'::text, 'redirect_flows_id_seq'::text, 22) NOT NULL,
    expires_at timestamp without time zone,
    description character varying(100),
    session_token character varying(255) NOT NULL,
    creditor_id text NOT NULL,
    success_redirect_url text NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    pending_resource_id text,
    scheme character varying,
    authorisation_link_id character varying
);


--
-- Name: redirect_flows_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE redirect_flows_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: redirect_flows_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE redirect_flows_id_seq OWNED BY redirect_flows.id;


--
-- Name: refunds; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE refunds (
    id character varying(32) DEFAULT gen_gc_id('RF'::text, 'refunds_id_seq'::text) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    merchant_payout_id character varying(32),
    partner_payout_id character varying(32),
    payment_id text NOT NULL,
    amount numeric(16,2) NOT NULL,
    aggregate_amount numeric(16,2) NOT NULL,
    payment_amount numeric(16,2) NOT NULL,
    sort_key integer NOT NULL,
    metadata hstore DEFAULT ''::hstore NOT NULL,
    credit_id text,
    reference text
);


--
-- Name: refunds_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE refunds_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: refunds_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE refunds_id_seq OWNED BY refunds.id;


--
-- Name: revenue_shares; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE revenue_shares (
    id character varying(32) DEFAULT gen_gc_id('RS'::text, 'revenue_shares_id_seq'::text) NOT NULL,
    transaction_fee_id text NOT NULL,
    creditor_id text NOT NULL,
    payout_id text,
    amount numeric(16,2) NOT NULL,
    currency character varying(3) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: revenue_shares_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE revenue_shares_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: revenue_shares_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE revenue_shares_id_seq OWNED BY revenue_shares.id;


--
-- Name: risk_action_transitions; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE risk_action_transitions (
    id character varying(32) DEFAULT gen_gc_id('RT'::text, 'risk_action_transitions_id_seq'::text) NOT NULL,
    to_state character varying NOT NULL,
    metadata json DEFAULT '{}'::json NOT NULL,
    sort_key integer NOT NULL,
    risk_action_id character varying NOT NULL,
    most_recent boolean NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: risk_action_transitions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE risk_action_transitions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: risk_action_transitions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE risk_action_transitions_id_seq OWNED BY risk_action_transitions.id;


--
-- Name: risk_actions; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE risk_actions (
    id character varying(32) DEFAULT gen_gc_id('RX'::text, 'risk_actions_id_seq'::text) NOT NULL,
    risk_profile_id text NOT NULL,
    action_type text NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    user_id text NOT NULL,
    customer_id character varying,
    creditor_restriction_id character varying,
    penny_test_attempts_remaining integer,
    CONSTRAINT attempts_remaining_gte_zero CHECK ((penny_test_attempts_remaining >= 0))
);


--
-- Name: risk_actions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE risk_actions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: risk_actions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE risk_actions_id_seq OWNED BY risk_actions.id;


--
-- Name: risk_alert_triggers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE risk_alert_triggers (
    id character varying(32) DEFAULT gen_gc_id('RG'::text, 'risk_alert_triggers_id_seq'::text) NOT NULL,
    risk_alert_id text NOT NULL,
    trigger_type text NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    reason character varying,
    user_id character varying
);


--
-- Name: risk_alert_triggers_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE risk_alert_triggers_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: risk_alert_triggers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE risk_alert_triggers_id_seq OWNED BY risk_alert_triggers.id;


--
-- Name: risk_alerts; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE risk_alerts (
    id character varying(32) DEFAULT gen_gc_id('RA'::text, 'risk_alerts_id_seq'::text) NOT NULL,
    creditor_id text NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    risk_profile_id text
);


--
-- Name: risk_alerts_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE risk_alerts_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: risk_alerts_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE risk_alerts_id_seq OWNED BY risk_alerts.id;


--
-- Name: risk_profile_question_answers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE risk_profile_question_answers (
    id character varying(32) DEFAULT gen_gc_id('RQ'::text, 'risk_profile_question_answers_id_seq'::text) NOT NULL,
    risk_profile_id text NOT NULL,
    question text NOT NULL,
    answer text NOT NULL,
    suggested_action text,
    comment text,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: risk_profile_question_answers_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE risk_profile_question_answers_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: risk_profile_question_answers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE risk_profile_question_answers_id_seq OWNED BY risk_profile_question_answers.id;


--
-- Name: risk_profiles; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE risk_profiles (
    id character varying(32) DEFAULT gen_gc_id('RP'::text, 'risk_profiles_id_seq'::text) NOT NULL,
    user_id text NOT NULL,
    score integer NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: risk_profiles_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE risk_profiles_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: risk_profiles_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE risk_profiles_id_seq OWNED BY risk_profiles.id;


--
-- Name: schema_migrations; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE schema_migrations (
    version character varying(255) NOT NULL
);


--
-- Name: seq_creditors_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE seq_creditors_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: seq_creditors_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE seq_creditors_id_seq OWNED BY creditors.id;


--
-- Name: seq_customers_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE seq_customers_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: seq_customers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE seq_customers_id_seq OWNED BY customers.id;


--
-- Name: subscription_amendments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE subscription_amendments (
    id character varying(32) DEFAULT gen_gc_id('SA'::text, 'subscription_amendments_id_seq'::text) NOT NULL,
    subscription_id text NOT NULL,
    amount numeric(16,2) NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    metadata hstore DEFAULT ''::hstore NOT NULL,
    end_date date,
    start_date date NOT NULL
);


--
-- Name: subscription_amendments_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE subscription_amendments_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: subscription_amendments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE subscription_amendments_id_seq OWNED BY subscription_amendments.id;


--
-- Name: subscription_transitions; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE subscription_transitions (
    id character varying(32) DEFAULT gen_gc_id('ST'::text, 'subscription_transitions_id_seq'::text) NOT NULL,
    to_state character varying NOT NULL,
    metadata text DEFAULT '{}'::text,
    sort_key integer NOT NULL,
    subscription_id character varying NOT NULL,
    most_recent boolean NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: subscription_transitions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE subscription_transitions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: subscription_transitions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE subscription_transitions_id_seq OWNED BY subscription_transitions.id;


--
-- Name: subscriptions; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE subscriptions (
    id character varying(32) DEFAULT gen_gc_id('SB'::text, 'subscriptions_id_seq'::text) NOT NULL,
    mandate_id text NOT NULL,
    amount numeric(16,2) NOT NULL,
    name character varying(255),
    next_creation_date date,
    "interval" integer DEFAULT 1 NOT NULL,
    day_of_month integer,
    month character varying(9),
    interval_unit character varying(255) NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    metadata hstore DEFAULT ''::hstore NOT NULL,
    next_charge_date date,
    ice_cube_start_at timestamp without time zone NOT NULL,
    currency text NOT NULL,
    payment_reference character varying(140),
    end_date date,
    start_date date NOT NULL,
    payment_source character varying,
    plan_id text
);


--
-- Name: subscriptions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE subscriptions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: subscriptions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE subscriptions_id_seq OWNED BY subscriptions.id;


--
-- Name: sun_groups; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE sun_groups (
    id character varying(32) DEFAULT gen_gc_id('SG'::text, 'sun_groups_id_seq'::text) NOT NULL,
    name character varying,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: sun_groups_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE sun_groups_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: sun_groups_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE sun_groups_id_seq OWNED BY sun_groups.id;


--
-- Name: sun_groups_suns; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE sun_groups_suns (
    sun_id character varying NOT NULL,
    sun_group_id character varying(32) NOT NULL,
    scheme character varying(10) NOT NULL,
    id character varying(32) DEFAULT gen_gc_id('SS'::text, 'sun_groups_suns_id_seq'::text) NOT NULL,
    disabled_at timestamp without time zone
);


--
-- Name: sun_groups_suns_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE sun_groups_suns_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: sun_groups_suns_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE sun_groups_suns_id_seq OWNED BY sun_groups_suns.id;


--
-- Name: suns; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE suns (
    id character varying(32) DEFAULT gen_gc_id('SU'::text, 'suns_id_seq'::text) NOT NULL,
    reference character varying(50) NOT NULL,
    scheme character varying(10) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    management_type character varying(2) NOT NULL,
    dormancy_period integer NOT NULL,
    mandate_reference_specifiable boolean DEFAULT false NOT NULL,
    advance_notice integer NOT NULL,
    name character varying(100) NOT NULL,
    address_line1 character varying(255) NOT NULL,
    address_line2 character varying(255),
    address_line3 character varying(255),
    city character varying(255) NOT NULL,
    region character varying(255),
    postal_code character varying(255) NOT NULL,
    country_code character varying(255) NOT NULL,
    email character varying(255) NOT NULL,
    phone_number character varying(255) NOT NULL,
    bank_code character varying(4) NOT NULL,
    CONSTRAINT mandate_references_not_specifiable_for_shared_suns CHECK (((((management_type)::text = 'gc'::text) AND (mandate_reference_specifiable IS FALSE)) OR ((management_type)::text <> 'gc'::text)))
);


--
-- Name: suns_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE suns_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: suns_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE suns_id_seq OWNED BY suns.id;


--
-- Name: support_contacts; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE support_contacts (
    id character varying(32) DEFAULT gen_gc_id('SC'::text, 'support_contacts_id_seq'::text) NOT NULL,
    email character varying(255) NOT NULL,
    url character varying(255),
    phone_number character varying(30),
    organisation_id text NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: support_contacts_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE support_contacts_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: support_contacts_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE support_contacts_id_seq OWNED BY support_contacts.id;


--
-- Name: swift_exclusion_lists; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE swift_exclusion_lists (
    record_key character varying(255) NOT NULL,
    country_code character varying(2) NOT NULL,
    iban_national_id character varying(15) NOT NULL,
    valid_from date,
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


--
-- Name: swift_files; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE swift_files (
    id character varying(32) DEFAULT gen_gc_id('SF'::text, 'swift_files_id_seq'::text) NOT NULL,
    product character varying(50) NOT NULL,
    delta boolean NOT NULL,
    filename character varying(255) NOT NULL,
    publish_date date NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


--
-- Name: swift_files_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE swift_files_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: swift_files_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE swift_files_id_seq OWNED BY swift_files.id;


--
-- Name: swift_iban_plus; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE swift_iban_plus (
    record_key character varying(255) NOT NULL,
    institution_name character varying(255) NOT NULL,
    country_code character varying(2) NOT NULL,
    bic character varying(11) NOT NULL,
    national_id character varying(15) NOT NULL,
    valid_from date,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    sort_code character varying(6)
);


--
-- Name: swift_sepa_routings; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE swift_sepa_routings (
    record_key character varying(255) NOT NULL,
    country_code character varying(2) NOT NULL,
    bic character varying(11) NOT NULL,
    adherence_bic character varying(11) NOT NULL,
    scheme character varying(255) NOT NULL,
    institution_name character varying(255) NOT NULL,
    valid_from date,
    start_date date,
    stop_date date,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    payment_channel character varying(11),
    preferred_payment_channel character varying(1),
    reachability character varying(1),
    intermediary_bic character varying,
    additional_service character varying(4)
);


--
-- Name: transaction_fee_tier_templates; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE transaction_fee_tier_templates (
    id character varying(32) DEFAULT gen_gc_id('TT'::text, 'transaction_fee_tier_templates_id_seq'::text) NOT NULL,
    organisation_id text NOT NULL,
    amount numeric(16,4),
    percentage numeric(16,4),
    cap numeric(16,4),
    scheme character varying(16) NOT NULL,
    number_of_payments integer,
    sort_key integer NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    deduct boolean NOT NULL,
    currency character varying,
    start_month date NOT NULL
);


--
-- Name: transaction_fee_tier_templates_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE transaction_fee_tier_templates_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: transaction_fee_tier_templates_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE transaction_fee_tier_templates_id_seq OWNED BY transaction_fee_tier_templates.id;


--
-- Name: transaction_fee_tiers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE transaction_fee_tiers (
    id character varying(32) DEFAULT gen_gc_id('FT'::text, 'transaction_fee_tiers_id_seq'::text) NOT NULL,
    organisation_id text NOT NULL,
    amount numeric(16,4),
    percentage numeric(16,4),
    cap numeric(16,4),
    scheme character varying(16) NOT NULL,
    number_remaining integer,
    sort_key integer NOT NULL,
    month date NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    transaction_fee_tier_template_id text NOT NULL,
    deduct boolean NOT NULL,
    currency character varying,
    CONSTRAINT number_remaining_gte_zero CHECK ((number_remaining >= 0))
);


--
-- Name: transaction_fee_tiers_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE transaction_fee_tiers_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: transaction_fee_tiers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE transaction_fee_tiers_id_seq OWNED BY transaction_fee_tiers.id;


--
-- Name: transaction_fees; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE transaction_fees (
    id character varying(32) DEFAULT gen_gc_id('TF'::text, 'transaction_fees_id_seq'::text) NOT NULL,
    invoice_id text,
    transaction_fee_tier_id text NOT NULL,
    payment_action_id text NOT NULL,
    amount numeric(16,4) NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    payout_id text,
    deduct boolean NOT NULL,
    currency character varying NOT NULL,
    CONSTRAINT transaction_fees_invoice_or_payout CHECK (((invoice_id IS NULL) OR (payout_id IS NULL)))
);


--
-- Name: transaction_fees_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE transaction_fees_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: transaction_fees_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE transaction_fees_id_seq OWNED BY transaction_fees.id;


--
-- Name: uk_bank_branches; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE uk_bank_branches (
    sort_code character varying(255) NOT NULL,
    bank_name character varying(255) NOT NULL,
    bic character varying(255),
    address_line1 character varying(255),
    address_line2 character varying(255),
    city character varying(255),
    region character varying(255),
    postal_code character varying(255),
    country character varying(255),
    bacs_service_status character varying(255) NOT NULL,
    mandates_enabled boolean NOT NULL,
    debits_enabled boolean NOT NULL,
    auddis_enabled boolean NOT NULL,
    last_changed date NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


--
-- Name: upgrade_transitions; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE upgrade_transitions (
    id character varying(32) DEFAULT gen_gc_id('UT'::text, 'upgrade_transitions_id_seq'::text) NOT NULL,
    to_state character varying NOT NULL,
    metadata json DEFAULT '{}'::json NOT NULL,
    sort_key integer NOT NULL,
    upgrade_id character varying NOT NULL,
    most_recent boolean NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: upgrade_transitions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE upgrade_transitions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: upgrade_transitions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE upgrade_transitions_id_seq OWNED BY upgrade_transitions.id;


--
-- Name: upgrades; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE upgrades (
    id character varying(32) DEFAULT gen_gc_id('UP'::text, 'upgrades_id_seq'::text) NOT NULL,
    organisation_id text NOT NULL,
    upgrade_type text NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: upgrades_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE upgrades_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: upgrades_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE upgrades_id_seq OWNED BY upgrades.id;


--
-- Name: user_ip_addresses; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE user_ip_addresses (
    id character varying(32) DEFAULT gen_gc_id('UI'::text, 'user_ip_addresses_id_seq'::text) NOT NULL,
    user_id character varying NOT NULL,
    ip_address character varying NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: user_ip_addresses_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE user_ip_addresses_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: user_ip_addresses_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE user_ip_addresses_id_seq OWNED BY user_ip_addresses.id;


--
-- Name: users; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE users (
    id character varying(32) DEFAULT gen_gc_id('US'::text, 'users_id_seq'::text) NOT NULL,
    email character varying(255) NOT NULL,
    password_digest character varying(64) NOT NULL,
    given_name character varying(128) NOT NULL,
    family_name character varying(128) NOT NULL,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    disabled_at timestamp without time zone,
    organisation_id character varying(32) NOT NULL,
    scope character varying NOT NULL,
    gocardless_admin boolean,
    language character varying(2),
    complete_redirect_flow_notifications_enabled boolean DEFAULT false NOT NULL,
    alert_notifications_enabled boolean DEFAULT false NOT NULL
);


--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE users_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE users_id_seq OWNED BY users.id;


--
-- Name: verification_reminders; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE verification_reminders (
    id character varying(32) DEFAULT gen_gc_id('VR'::text, 'verification_reminders_id_seq'::text) NOT NULL,
    organisation_id text NOT NULL,
    next_reminder_date date NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    sent_reminders_count integer DEFAULT 0 NOT NULL
);


--
-- Name: verification_reminders_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE verification_reminders_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: verification_reminders_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE verification_reminders_id_seq OWNED BY verification_reminders.id;


--
-- Name: verification_transitions; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE verification_transitions (
    id character varying(32) DEFAULT gen_gc_id('VT'::text, 'verification_transitions_id_seq'::text) NOT NULL,
    to_state character varying NOT NULL,
    metadata json DEFAULT '{}'::json NOT NULL,
    sort_key integer NOT NULL,
    verification_id character varying NOT NULL,
    most_recent boolean NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: verification_transitions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE verification_transitions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: verification_transitions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE verification_transitions_id_seq OWNED BY verification_transitions.id;


--
-- Name: verifications; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE verifications (
    id character varying(32) DEFAULT gen_gc_id('VE'::text, 'verifications_id_seq'::text) NOT NULL,
    name character varying NOT NULL,
    parent_id character varying,
    creditor_id character varying NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    entity json,
    ancestor_ids text[] DEFAULT '{}'::text[],
    reason character varying,
    document_upload_key character varying,
    risk_action_id character varying,
    questions text[]
);


--
-- Name: verifications_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE verifications_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: verifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE verifications_id_seq OWNED BY verifications.id;


--
-- Name: watchlist_checks; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE watchlist_checks (
    id character varying(32) DEFAULT gen_gc_id('WC'::text, 'watchlist_checks_id_seq'::text) NOT NULL,
    watchlist_verification_transition_id character varying(32) NOT NULL,
    entity_type character varying(255) NOT NULL,
    country_code character varying(255) NOT NULL,
    response_provider character varying(255) NOT NULL,
    request_data json NOT NULL,
    response_data json NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: watchlist_checks_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE watchlist_checks_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: watchlist_checks_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE watchlist_checks_id_seq OWNED BY watchlist_checks.id;


--
-- Name: watchlist_verification_transitions; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE watchlist_verification_transitions (
    id character varying(32) DEFAULT gen_gc_id('WT'::text, 'watchlist_verification_transitions_id_seq'::text) NOT NULL,
    to_state character varying NOT NULL,
    metadata json DEFAULT '{}'::json,
    sort_key integer NOT NULL,
    watchlist_verification_id character varying NOT NULL,
    most_recent boolean NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL
);


--
-- Name: watchlist_verification_transitions_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE watchlist_verification_transitions_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: watchlist_verification_transitions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE watchlist_verification_transitions_id_seq OWNED BY watchlist_verification_transitions.id;


--
-- Name: watchlist_verifications; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE watchlist_verifications (
    id character varying(32) DEFAULT gen_gc_id('WV'::text, 'watchlist_verifications_id_seq'::text) NOT NULL,
    creditor_id character varying NOT NULL,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    entity json NOT NULL,
    name character varying NOT NULL
);


--
-- Name: watchlist_verifications_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE watchlist_verifications_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: watchlist_verifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE watchlist_verifications_id_seq OWNED BY watchlist_verifications.id;


--
-- Name: webhook_endpoints; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE webhook_endpoints (
    id character varying(32) DEFAULT gen_gc_id('WE'::text, 'webhook_endpoints_id_seq'::text) NOT NULL,
    name character varying,
    organisation_id text,
    client_cert text,
    encrypted_client_cert_key text,
    url text NOT NULL,
    secret text,
    created_at timestamp without time zone NOT NULL,
    updated_at timestamp without time zone NOT NULL,
    enabled boolean NOT NULL,
    app_id character varying,
    CONSTRAINT webhook_endpoints_exactly_one_app_or_organisation CHECK ((((organisation_id IS NOT NULL) AND (app_id IS NULL)) OR ((organisation_id IS NULL) AND (app_id IS NOT NULL))))
);


--
-- Name: webhook_endpoints_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE webhook_endpoints_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: webhook_endpoints_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE webhook_endpoints_id_seq OWNED BY webhook_endpoints.id;


--
-- Name: webhooks; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE webhooks (
    id character varying(32) DEFAULT gen_gc_id('WB'::text, 'webhooks_id_seq'::text) NOT NULL,
    url character varying(255) NOT NULL,
    request_headers hstore NOT NULL,
    request_body text NOT NULL,
    response_time integer,
    response_code integer,
    response_status character varying(255),
    response_headers hstore,
    response_body text,
    is_test boolean DEFAULT false NOT NULL,
    error text,
    retry_of_id character varying(255),
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    response_body_truncated boolean,
    response_headers_content_truncated boolean,
    response_headers_count_truncated boolean,
    webhook_endpoint_id character varying NOT NULL
);


--
-- Name: webhooks_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE webhooks_id_seq
    START WITH 33000
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: webhooks_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE webhooks_id_seq OWNED BY webhooks.id;


--
-- Name: job_id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY que_jobs ALTER COLUMN job_id SET DEFAULT nextval('que_jobs_job_id_seq'::regclass);


--
-- Name: access_tokens_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY access_tokens
    ADD CONSTRAINT access_tokens_pkey PRIMARY KEY (id);


--
-- Name: account_closures_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY account_closures
    ADD CONSTRAINT account_closures_pkey PRIMARY KEY (id);


--
-- Name: admin_comments_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY admin_comments
    ADD CONSTRAINT admin_comments_pkey PRIMARY KEY (id);


--
-- Name: app_fees_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY app_fees
    ADD CONSTRAINT app_fees_pkey PRIMARY KEY (id);


--
-- Name: app_revenue_share_agreements_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY app_revenue_share_agreements
    ADD CONSTRAINT app_revenue_share_agreements_pkey PRIMARY KEY (id);


--
-- Name: apps_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY apps
    ADD CONSTRAINT apps_pkey PRIMARY KEY (id);


--
-- Name: authorisation_codes_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY authorisation_codes
    ADD CONSTRAINT authorisation_codes_pkey PRIMARY KEY (id);


--
-- Name: authorisation_links_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY authorisation_links
    ADD CONSTRAINT authorisation_links_pkey PRIMARY KEY (id);


--
-- Name: authorisation_request_transitions_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY authorisation_request_transitions
    ADD CONSTRAINT authorisation_request_transitions_pkey PRIMARY KEY (id);


--
-- Name: authorisation_requests_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY authorisation_requests
    ADD CONSTRAINT authorisation_requests_pkey PRIMARY KEY (id);


--
-- Name: bacs_submissions_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY bank_submissions
    ADD CONSTRAINT bacs_submissions_pkey PRIMARY KEY (id);


--
-- Name: bank_account_transitions_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY bank_account_transitions
    ADD CONSTRAINT bank_account_transitions_pkey PRIMARY KEY (id);


--
-- Name: bank_accounts_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY bank_accounts
    ADD CONSTRAINT bank_accounts_pkey PRIMARY KEY (id);


--
-- Name: bank_report_entries_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY bank_report_entries
    ADD CONSTRAINT bank_report_entries_pkey PRIMARY KEY (id);


--
-- Name: bank_report_entry_transitions_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY bank_report_entry_transitions
    ADD CONSTRAINT bank_report_entry_transitions_pkey PRIMARY KEY (id);


--
-- Name: bank_reports_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY bank_reports
    ADD CONSTRAINT bank_reports_pkey PRIMARY KEY (id);


--
-- Name: bank_submission_batches_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY bank_submission_batches
    ADD CONSTRAINT bank_submission_batches_pkey PRIMARY KEY (id);


--
-- Name: billing_contacts_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY billing_contacts
    ADD CONSTRAINT billing_contacts_pkey PRIMARY KEY (id);


--
-- Name: blacklisted_bank_accounts_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY blacklisted_bank_accounts
    ADD CONSTRAINT blacklisted_bank_accounts_pkey PRIMARY KEY (id);


--
-- Name: charity_details_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY charity_details
    ADD CONSTRAINT charity_details_pkey PRIMARY KEY (id);


--
-- Name: company_details_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY company_details
    ADD CONSTRAINT company_details_pkey PRIMARY KEY (id);


--
-- Name: credit_transitions_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY credit_transitions
    ADD CONSTRAINT credit_transitions_pkey PRIMARY KEY (id);


--
-- Name: creditor_restrictions_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY creditor_restrictions
    ADD CONSTRAINT creditor_restrictions_pkey PRIMARY KEY (id);


--
-- Name: creditors_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY creditors
    ADD CONSTRAINT creditors_pkey PRIMARY KEY (id);


--
-- Name: credits_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY credits
    ADD CONSTRAINT credits_pkey PRIMARY KEY (id);


--
-- Name: customer_bank_account_tokens_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY customer_bank_account_tokens
    ADD CONSTRAINT customer_bank_account_tokens_pkey PRIMARY KEY (id);


--
-- Name: customers_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY customers
    ADD CONSTRAINT customers_pkey PRIMARY KEY (id);


--
-- Name: developer_contacts_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY developer_contacts
    ADD CONSTRAINT developer_contacts_pkey PRIMARY KEY (id);


--
-- Name: events_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY events
    ADD CONSTRAINT events_pkey PRIMARY KEY (id);


--
-- Name: idempotency_keys_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY idempotency_keys
    ADD CONSTRAINT idempotency_keys_pkey PRIMARY KEY (id);


--
-- Name: individual_details_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY individual_details
    ADD CONSTRAINT individual_details_pkey PRIMARY KEY (id);


--
-- Name: invoices_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY invoices
    ADD CONSTRAINT invoices_pkey PRIMARY KEY (id);


--
-- Name: legal_entity_checks_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY legal_entity_checks
    ADD CONSTRAINT legal_entity_checks_pkey PRIMARY KEY (id);


--
-- Name: logos_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY logos
    ADD CONSTRAINT logos_pkey PRIMARY KEY (id);


--
-- Name: mandate_caps_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY mandate_caps
    ADD CONSTRAINT mandate_caps_pkey PRIMARY KEY (id);


--
-- Name: mandate_histories_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY mandate_histories
    ADD CONSTRAINT mandate_histories_pkey PRIMARY KEY (id);


--
-- Name: mandates_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY mandates
    ADD CONSTRAINT mandates_pkey PRIMARY KEY (id);


--
-- Name: monthly_fee_templates_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY monthly_fee_templates
    ADD CONSTRAINT monthly_fee_templates_pkey PRIMARY KEY (id);


--
-- Name: monthly_fees_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY monthly_fees
    ADD CONSTRAINT monthly_fees_pkey PRIMARY KEY (id);


--
-- Name: organisations_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY organisations
    ADD CONSTRAINT organisations_pkey PRIMARY KEY (id);


--
-- Name: outbound_payments_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY outbound_payments
    ADD CONSTRAINT outbound_payments_pkey PRIMARY KEY (id);


--
-- Name: password_reset_tokens_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY password_reset_tokens
    ADD CONSTRAINT password_reset_tokens_pkey PRIMARY KEY (id);


--
-- Name: paylink_histories_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY paylink_histories
    ADD CONSTRAINT paylink_histories_pkey PRIMARY KEY (id);


--
-- Name: paylinks_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY paylinks
    ADD CONSTRAINT paylinks_pkey PRIMARY KEY (id);


--
-- Name: payment_actions_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY payment_actions
    ADD CONSTRAINT payment_actions_pkey PRIMARY KEY (id);


--
-- Name: payments_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY payments
    ADD CONSTRAINT payments_pkey PRIMARY KEY (id);


--
-- Name: payouts_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY payouts
    ADD CONSTRAINT payouts_pkey PRIMARY KEY (id);


--
-- Name: pending_event_notifications_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY pending_event_notifications
    ADD CONSTRAINT pending_event_notifications_pkey PRIMARY KEY (id);


--
-- Name: pending_resources_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY pending_resources
    ADD CONSTRAINT pending_resources_pkey PRIMARY KEY (id);


--
-- Name: plans_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY plans
    ADD CONSTRAINT plans_pkey PRIMARY KEY (id);


--
-- Name: publishable_access_tokens_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY publishable_access_tokens
    ADD CONSTRAINT publishable_access_tokens_pkey PRIMARY KEY (id);


--
-- Name: que_jobs_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY que_jobs
    ADD CONSTRAINT que_jobs_pkey PRIMARY KEY (queue, priority, run_at, job_id);


--
-- Name: redirect_flows_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY redirect_flows
    ADD CONSTRAINT redirect_flows_pkey PRIMARY KEY (id);


--
-- Name: refunds_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY refunds
    ADD CONSTRAINT refunds_pkey PRIMARY KEY (id);


--
-- Name: revenue_shares_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY revenue_shares
    ADD CONSTRAINT revenue_shares_pkey PRIMARY KEY (id);


--
-- Name: risk_action_transitions_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY risk_action_transitions
    ADD CONSTRAINT risk_action_transitions_pkey PRIMARY KEY (id);


--
-- Name: risk_actions_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY risk_actions
    ADD CONSTRAINT risk_actions_pkey PRIMARY KEY (id);


--
-- Name: risk_alert_triggers_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY risk_alert_triggers
    ADD CONSTRAINT risk_alert_triggers_pkey PRIMARY KEY (id);


--
-- Name: risk_alerts_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY risk_alerts
    ADD CONSTRAINT risk_alerts_pkey PRIMARY KEY (id);


--
-- Name: risk_profile_question_answers_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY risk_profile_question_answers
    ADD CONSTRAINT risk_profile_question_answers_pkey PRIMARY KEY (id);


--
-- Name: risk_profiles_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY risk_profiles
    ADD CONSTRAINT risk_profiles_pkey PRIMARY KEY (id);


--
-- Name: subscription_amendments_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY subscription_amendments
    ADD CONSTRAINT subscription_amendments_pkey PRIMARY KEY (id);


--
-- Name: subscription_transitions_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY subscription_transitions
    ADD CONSTRAINT subscription_transitions_pkey PRIMARY KEY (id);


--
-- Name: subscriptions_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY subscriptions
    ADD CONSTRAINT subscriptions_pkey PRIMARY KEY (id);


--
-- Name: sun_groups_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY sun_groups
    ADD CONSTRAINT sun_groups_pkey PRIMARY KEY (id);


--
-- Name: sun_groups_suns_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY sun_groups_suns
    ADD CONSTRAINT sun_groups_suns_pkey PRIMARY KEY (id);


--
-- Name: suns_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY suns
    ADD CONSTRAINT suns_pkey PRIMARY KEY (id);


--
-- Name: support_contacts_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY support_contacts
    ADD CONSTRAINT support_contacts_pkey PRIMARY KEY (id);


--
-- Name: swift_exclusion_lists_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY swift_exclusion_lists
    ADD CONSTRAINT swift_exclusion_lists_pkey PRIMARY KEY (record_key);


--
-- Name: swift_files_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY swift_files
    ADD CONSTRAINT swift_files_pkey PRIMARY KEY (id);


--
-- Name: swift_iban_plus_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY swift_iban_plus
    ADD CONSTRAINT swift_iban_plus_pkey PRIMARY KEY (record_key);


--
-- Name: swift_sepa_routings_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY swift_sepa_routings
    ADD CONSTRAINT swift_sepa_routings_pkey PRIMARY KEY (record_key);


--
-- Name: transaction_fee_tier_templates_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY transaction_fee_tier_templates
    ADD CONSTRAINT transaction_fee_tier_templates_pkey PRIMARY KEY (id);


--
-- Name: transaction_fee_tiers_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY transaction_fee_tiers
    ADD CONSTRAINT transaction_fee_tiers_pkey PRIMARY KEY (id);


--
-- Name: transaction_fees_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY transaction_fees
    ADD CONSTRAINT transaction_fees_pkey PRIMARY KEY (id);


--
-- Name: uk_bank_branches_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY uk_bank_branches
    ADD CONSTRAINT uk_bank_branches_pkey PRIMARY KEY (sort_code);


--
-- Name: upgrade_transitions_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY upgrade_transitions
    ADD CONSTRAINT upgrade_transitions_pkey PRIMARY KEY (id);


--
-- Name: upgrades_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY upgrades
    ADD CONSTRAINT upgrades_pkey PRIMARY KEY (id);


--
-- Name: user_ip_addresses_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY user_ip_addresses
    ADD CONSTRAINT user_ip_addresses_pkey PRIMARY KEY (id);


--
-- Name: users_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: verification_reminders_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY verification_reminders
    ADD CONSTRAINT verification_reminders_pkey PRIMARY KEY (id);


--
-- Name: verification_transitions_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY verification_transitions
    ADD CONSTRAINT verification_transitions_pkey PRIMARY KEY (id);


--
-- Name: verifications_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY verifications
    ADD CONSTRAINT verifications_pkey PRIMARY KEY (id);


--
-- Name: watchlist_checks_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY watchlist_checks
    ADD CONSTRAINT watchlist_checks_pkey PRIMARY KEY (id);


--
-- Name: watchlist_verification_transitions_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY watchlist_verification_transitions
    ADD CONSTRAINT watchlist_verification_transitions_pkey PRIMARY KEY (id);


--
-- Name: watchlist_verifications_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY watchlist_verifications
    ADD CONSTRAINT watchlist_verifications_pkey PRIMARY KEY (id);


--
-- Name: web_hooks_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY webhooks
    ADD CONSTRAINT web_hooks_pkey PRIMARY KEY (id);


--
-- Name: webhook_endpoints_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY webhook_endpoints
    ADD CONSTRAINT webhook_endpoints_pkey PRIMARY KEY (id);


--
-- Name: index_access_tokens_on_organisation_id_app_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_access_tokens_on_organisation_id_app_id ON access_tokens USING btree (organisation_id, app_id) WHERE (expires_at IS NULL);


--
-- Name: index_access_tokens_on_token; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_access_tokens_on_token ON access_tokens USING btree (token);


--
-- Name: index_access_tokens_organisation_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_access_tokens_organisation_id ON access_tokens USING btree (organisation_id);


--
-- Name: index_access_tokens_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_access_tokens_user_id ON access_tokens USING btree (user_id);


--
-- Name: index_account_closures_on_creditor_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_account_closures_on_creditor_id ON account_closures USING btree (creditor_id);


--
-- Name: index_account_closures_on_organisation_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_account_closures_on_organisation_id ON account_closures USING btree (organisation_id);


--
-- Name: index_account_closures_on_risk_action_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_account_closures_on_risk_action_id ON account_closures USING btree (risk_action_id);


--
-- Name: index_apps_on_client_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_apps_on_client_id ON apps USING btree (client_id);


--
-- Name: index_apps_on_client_id_and_client_secret; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_apps_on_client_id_and_client_secret ON apps USING btree (client_id, client_secret);


--
-- Name: index_apps_on_organisation_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_apps_on_organisation_id ON apps USING btree (organisation_id);


--
-- Name: index_authorisation_codes_on_code; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_authorisation_codes_on_code ON authorisation_codes USING btree (code);


--
-- Name: index_authorisation_links_on_creditor_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_authorisation_links_on_creditor_id ON authorisation_links USING btree (creditor_id);


--
-- Name: index_authorisation_request_transitions_parent_most_recent; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_authorisation_request_transitions_parent_most_recent ON authorisation_request_transitions USING btree (authorisation_request_id, most_recent) WHERE most_recent;


--
-- Name: index_authorisation_request_transitions_parent_sort; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_authorisation_request_transitions_parent_sort ON authorisation_request_transitions USING btree (authorisation_request_id, sort_key);


--
-- Name: index_bank_account_transitions_parent_most_recent; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_bank_account_transitions_parent_most_recent ON bank_account_transitions USING btree (bank_account_id, most_recent) WHERE most_recent;


--
-- Name: index_bank_account_transitions_parent_sort; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_bank_account_transitions_parent_sort ON bank_account_transitions USING btree (bank_account_id, sort_key);


--
-- Name: index_bank_accounts_on_created_at; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_bank_accounts_on_created_at ON bank_accounts USING btree (created_at);


--
-- Name: index_bank_accounts_on_creditor_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_bank_accounts_on_creditor_id ON bank_accounts USING btree (creditor_id);


--
-- Name: index_bank_accounts_on_customer_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_bank_accounts_on_customer_id ON bank_accounts USING btree (customer_id);


--
-- Name: index_bank_accounts_on_hashed_bank_details; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_bank_accounts_on_hashed_bank_details ON bank_accounts USING btree (hashed_bank_details);


--
-- Name: index_bank_accounts_on_swedish_credit_transfer_number; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_bank_accounts_on_swedish_credit_transfer_number ON bank_accounts USING btree (swedish_credit_transfer_number) WHERE (swedish_credit_transfer_number IS NOT NULL);


--
-- Name: index_bank_report_entries_on_bank_report_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_bank_report_entries_on_bank_report_id ON bank_report_entries USING btree (bank_report_id);


--
-- Name: index_bank_report_entry_transitions_parent_most_recent; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_bank_report_entry_transitions_parent_most_recent ON bank_report_entry_transitions USING btree (bank_report_entry_id, most_recent) WHERE most_recent;


--
-- Name: index_bank_reports_on_signature_sha512; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_bank_reports_on_signature_sha512 ON bank_reports USING btree (signature_sha512);


--
-- Name: index_bank_submission_batches_on_bank_submission_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_bank_submission_batches_on_bank_submission_id ON bank_submission_batches USING btree (bank_submission_id);


--
-- Name: index_bank_submissions_on_message_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_bank_submissions_on_message_id ON bank_submissions USING btree (message_id) WHERE (message_id IS NOT NULL);


--
-- Name: index_bank_submissions_on_sun_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_bank_submissions_on_sun_id ON bank_submissions USING btree (sun_id);


--
-- Name: index_billing_contacts_on_organisation_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_billing_contacts_on_organisation_id ON billing_contacts USING btree (organisation_id);


--
-- Name: index_blacklisted_bank_accounts_on_hashed_iban; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_blacklisted_bank_accounts_on_hashed_iban ON blacklisted_bank_accounts USING btree (hashed_iban);


--
-- Name: index_bre_transitions_on_bre_id_and_sort_key; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_bre_transitions_on_bre_id_and_sort_key ON bank_report_entry_transitions USING btree (bank_report_entry_id, sort_key);


--
-- Name: index_charity_details_on_creditor_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_charity_details_on_creditor_id ON charity_details USING btree (creditor_id);


--
-- Name: index_company_details_on_creditor_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_company_details_on_creditor_id ON company_details USING btree (creditor_id);


--
-- Name: index_credit_transitions_on_credit_id_and_sort_key; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_credit_transitions_on_credit_id_and_sort_key ON credit_transitions USING btree (credit_id, sort_key);


--
-- Name: index_credit_transitions_parent_most_recent; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_credit_transitions_parent_most_recent ON credit_transitions USING btree (credit_id, most_recent) WHERE most_recent;


--
-- Name: index_creditor_restrictions_on_creditor_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_creditor_restrictions_on_creditor_id ON creditor_restrictions USING btree (creditor_id);


--
-- Name: index_creditor_restrictions_on_verification_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_creditor_restrictions_on_verification_id ON creditor_restrictions USING btree (verification_id);


--
-- Name: index_creditors_on_organisation_id_and_created_at; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_creditors_on_organisation_id_and_created_at ON creditors USING btree (organisation_id, created_at);


--
-- Name: index_credits_on_gocardless_reference; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_credits_on_gocardless_reference ON credits USING btree (gocardless_reference);


--
-- Name: index_credits_on_payout_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_credits_on_payout_id ON credits USING btree (payout_id);


--
-- Name: index_customer_bank_account_tokens_on_bank_account_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_customer_bank_account_tokens_on_bank_account_id ON customer_bank_account_tokens USING btree (bank_account_id);


--
-- Name: index_customer_bank_account_tokens_on_organisation_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_customer_bank_account_tokens_on_organisation_id ON customer_bank_account_tokens USING btree (organisation_id);


--
-- Name: index_customers_on_organisation_id_and_created_at; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_customers_on_organisation_id_and_created_at ON customers USING btree (organisation_id, created_at);


--
-- Name: index_developer_contacts_on_organisation_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_developer_contacts_on_organisation_id ON developer_contacts USING btree (organisation_id);


--
-- Name: index_events_on_mandate_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_events_on_mandate_id ON events USING btree (mandate_id) WHERE (mandate_id IS NOT NULL);


--
-- Name: index_events_on_organisation_id_and_created_at; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_events_on_organisation_id_and_created_at ON events USING btree (organisation_id, created_at);


--
-- Name: index_events_on_organisation_id_and_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_events_on_organisation_id_and_id ON events USING btree (organisation_id, id);


--
-- Name: index_events_on_parent_event_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_events_on_parent_event_id ON events USING btree (parent_event_id);


--
-- Name: index_events_on_payment_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_events_on_payment_id ON events USING btree (payment_id) WHERE (payment_id IS NOT NULL);


--
-- Name: index_events_on_payout_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_events_on_payout_id ON events USING btree (payout_id) WHERE (payout_id IS NOT NULL);


--
-- Name: index_events_on_refund_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_events_on_refund_id ON events USING btree (refund_id) WHERE (refund_id IS NOT NULL);


--
-- Name: index_events_on_subscription_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_events_on_subscription_id ON events USING btree (subscription_id) WHERE (subscription_id IS NOT NULL);


--
-- Name: index_idempotency_keys_on_key_org_id_resource_type; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_idempotency_keys_on_key_org_id_resource_type ON idempotency_keys USING btree (key, organisation_id, resource_type);


--
-- Name: index_individual_details_on_creditor_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_individual_details_on_creditor_id ON individual_details USING btree (creditor_id);


--
-- Name: index_invoices_on_month_and_organisation_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_invoices_on_month_and_organisation_id ON invoices USING btree (month, organisation_id);


--
-- Name: index_legal_entity_checks_on_verification_transition_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_legal_entity_checks_on_verification_transition_id ON legal_entity_checks USING btree (verification_transition_id);


--
-- Name: index_mandate_histories_on_bank_report_entry_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_mandate_histories_on_bank_report_entry_id ON mandate_histories USING btree (bank_report_entry_id);


--
-- Name: index_mandate_histories_on_mandate_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_mandate_histories_on_mandate_id ON mandate_histories USING btree (mandate_id);


--
-- Name: index_mandate_histories_on_sort_key_and_mandate_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_mandate_histories_on_sort_key_and_mandate_id ON mandate_histories USING btree (sort_key, mandate_id);


--
-- Name: index_mandate_histories_parent_most_recent; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_mandate_histories_parent_most_recent ON mandate_histories USING btree (mandate_id, most_recent) WHERE most_recent;


--
-- Name: index_mandates_on_bank_account_id_and_creditor_merchant_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_mandates_on_bank_account_id_and_creditor_merchant_id ON mandates USING btree (bank_account_id, creditor_merchant_id);


--
-- Name: index_mandates_on_created_at; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_mandates_on_created_at ON mandates USING btree (created_at);


--
-- Name: index_mandates_on_creditor_merchant_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_mandates_on_creditor_merchant_id ON mandates USING btree (creditor_merchant_id);


--
-- Name: index_mandates_on_reference_and_sun_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_mandates_on_reference_and_sun_id ON mandates USING btree (reference, sun_id);


--
-- Name: index_mandates_on_sun_id_and_scheme; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_mandates_on_sun_id_and_scheme ON mandates USING btree (sun_id, scheme);


--
-- Name: index_monthly_fee_templates_unique_per_month; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_monthly_fee_templates_unique_per_month ON monthly_fee_templates USING btree (start_month, organisation_id);


--
-- Name: index_monthly_fees_unique_per_month; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_monthly_fees_unique_per_month ON monthly_fees USING btree (month, organisation_id);


--
-- Name: index_on_payment_actions_debited_not_in_merchant_payout; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_on_payment_actions_debited_not_in_merchant_payout ON payment_actions USING btree (payment_id) WHERE (((to_state)::text = ANY (ARRAY[('late_failure'::character varying)::text, ('chargedback'::character varying)::text, ('charged_back'::character varying)::text])) AND (merchant_payout_id IS NULL));


--
-- Name: index_on_payment_actions_paid_not_in_merchant_payout; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_on_payment_actions_paid_not_in_merchant_payout ON payment_actions USING btree (payment_id) WHERE (((to_state)::text = 'paid'::text) AND (merchant_payout_id IS NULL));


--
-- Name: index_organisations_on_gc_merchant_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_organisations_on_gc_merchant_id ON organisations USING btree (gc_merchant_id);


--
-- Name: index_payment_actions_on_bank_report_entry_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payment_actions_on_bank_report_entry_id ON payment_actions USING btree (bank_report_entry_id);


--
-- Name: index_payment_actions_on_bank_submission_batch_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payment_actions_on_bank_submission_batch_id ON payment_actions USING btree (bank_submission_batch_id);


--
-- Name: index_payment_actions_on_mandate_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payment_actions_on_mandate_id ON payment_actions USING btree (mandate_id);


--
-- Name: index_payment_actions_on_merchant_payout_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payment_actions_on_merchant_payout_id ON payment_actions USING btree (merchant_payout_id);


--
-- Name: index_payment_actions_on_partner_payout_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payment_actions_on_partner_payout_id ON payment_actions USING btree (partner_payout_id);


--
-- Name: index_payment_actions_on_payment_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payment_actions_on_payment_id ON payment_actions USING btree (payment_id);


--
-- Name: index_payment_actions_on_payment_id_and_created_at; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payment_actions_on_payment_id_and_created_at ON payment_actions USING btree (payment_id, created_at DESC);


--
-- Name: index_payment_actions_on_payment_id_to_state_most_recent; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_payment_actions_on_payment_id_to_state_most_recent ON payment_actions USING btree (payment_id, to_state, most_recent) WHERE (most_recent = true);


--
-- Name: index_payment_actions_on_sort_key_and_payment_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_payment_actions_on_sort_key_and_payment_id ON payment_actions USING btree (sort_key, payment_id);


--
-- Name: index_payment_actions_parent_most_recent; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_payment_actions_parent_most_recent ON payment_actions USING btree (payment_id, most_recent) WHERE most_recent;


--
-- Name: index_payment_actions_submitted_not_yet_in_submission; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payment_actions_submitted_not_yet_in_submission ON payment_actions USING btree (bank_submission_batch_id, mandate_id) WHERE (((to_state)::text = 'submitted'::text) AND (bank_submission_batch_id IS NULL));


--
-- Name: index_payments_on_charge_date; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payments_on_charge_date ON payments USING btree (charge_date DESC);


--
-- Name: index_payments_on_created_at; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payments_on_created_at ON payments USING btree (created_at);


--
-- Name: index_payments_on_creditor_merchant_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payments_on_creditor_merchant_id ON payments USING btree (creditor_merchant_id);


--
-- Name: index_payments_on_creditor_partner_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payments_on_creditor_partner_id ON payments USING btree (creditor_partner_id);


--
-- Name: index_payments_on_full_submission_reference; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payments_on_full_submission_reference ON payments USING btree (full_submission_reference);


--
-- Name: index_payments_on_mandate_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payments_on_mandate_id ON payments USING btree (mandate_id);


--
-- Name: index_payments_on_organisation_id_and_created_at; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payments_on_organisation_id_and_created_at ON payments USING btree (organisation_id, created_at);


--
-- Name: index_payments_on_organisation_id_and_unique_creation_token; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_payments_on_organisation_id_and_unique_creation_token ON payments USING btree (organisation_id, unique_creation_token);


--
-- Name: index_payments_on_paylink_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payments_on_paylink_id ON payments USING btree (paylink_id);


--
-- Name: index_payments_on_subscription_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payments_on_subscription_id ON payments USING btree (subscription_id);


--
-- Name: index_payouts_on_bank_account_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payouts_on_bank_account_id ON payouts USING btree (bank_account_id);


--
-- Name: index_payouts_on_created_at; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_payouts_on_created_at ON payouts USING btree (created_at);


--
-- Name: index_plans_on_cancelled_at; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_plans_on_cancelled_at ON plans USING btree (cancelled_at);


--
-- Name: index_publishable_access_tokens_on_organisation_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_publishable_access_tokens_on_organisation_id ON publishable_access_tokens USING btree (organisation_id);


--
-- Name: index_redirect_flows_on_authorisation_link_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_redirect_flows_on_authorisation_link_id ON redirect_flows USING btree (authorisation_link_id);


--
-- Name: index_refunds_on_created_at; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_refunds_on_created_at ON refunds USING btree (created_at);


--
-- Name: index_refunds_on_payment_id_and_sort_key; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_refunds_on_payment_id_and_sort_key ON refunds USING btree (payment_id, sort_key);


--
-- Name: index_risk_action_transitions_parent_most_recent; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_risk_action_transitions_parent_most_recent ON risk_action_transitions USING btree (risk_action_id, most_recent) WHERE most_recent;


--
-- Name: index_risk_action_transitions_parent_sort; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_risk_action_transitions_parent_sort ON risk_action_transitions USING btree (risk_action_id, sort_key);


--
-- Name: index_risk_alert_triggers_on_user_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_risk_alert_triggers_on_user_id ON risk_alert_triggers USING btree (user_id);


--
-- Name: index_risk_alerts_on_creditor_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_risk_alerts_on_creditor_id ON risk_alerts USING btree (creditor_id);


--
-- Name: index_risk_alerts_on_risk_profile_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_risk_alerts_on_risk_profile_id ON risk_alerts USING btree (risk_profile_id);


--
-- Name: index_risk_profile_question_answers_on_risk_profile_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_risk_profile_question_answers_on_risk_profile_id ON risk_profile_question_answers USING btree (risk_profile_id);


--
-- Name: index_subscription_transitions_parent_most_recent; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_subscription_transitions_parent_most_recent ON subscription_transitions USING btree (subscription_id, most_recent) WHERE most_recent;


--
-- Name: index_subscription_transitions_parent_sort; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_subscription_transitions_parent_sort ON subscription_transitions USING btree (subscription_id, sort_key);


--
-- Name: index_subscriptions_on_created_at; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_subscriptions_on_created_at ON subscriptions USING btree (created_at);


--
-- Name: index_subscriptions_on_mandate_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_subscriptions_on_mandate_id ON subscriptions USING btree (mandate_id);


--
-- Name: index_sun_groups_suns_on_scheme_and_sun_group_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_sun_groups_suns_on_scheme_and_sun_group_id ON sun_groups_suns USING btree (scheme, sun_group_id) WHERE (disabled_at IS NULL);


--
-- Name: index_sun_groups_suns_on_sun_group_id_and_sun_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_sun_groups_suns_on_sun_group_id_and_sun_id ON sun_groups_suns USING btree (sun_group_id, sun_id);


--
-- Name: index_sun_groups_suns_on_sun_id_and_sun_group_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_sun_groups_suns_on_sun_id_and_sun_group_id ON sun_groups_suns USING btree (sun_id, sun_group_id);


--
-- Name: index_suns_on_scheme_and_reference; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_suns_on_scheme_and_reference ON suns USING btree (scheme, reference);


--
-- Name: index_support_contacts_on_organisation_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_support_contacts_on_organisation_id ON support_contacts USING btree (organisation_id);


--
-- Name: index_swift_exclusion_lists_country_and_national_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_swift_exclusion_lists_country_and_national_id ON swift_exclusion_lists USING btree (country_code, iban_national_id);


--
-- Name: index_swift_iban_plus_on_country_code_and_national_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_swift_iban_plus_on_country_code_and_national_id ON swift_iban_plus USING btree (country_code, national_id);


--
-- Name: index_swift_iban_plus_on_country_code_and_sort_code; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_swift_iban_plus_on_country_code_and_sort_code ON swift_iban_plus USING btree (country_code, sort_code);


--
-- Name: index_swift_sepa_routings_on_adherence_bic; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_swift_sepa_routings_on_adherence_bic ON swift_sepa_routings USING btree (adherence_bic);


--
-- Name: index_swift_sepa_routings_on_bic; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_swift_sepa_routings_on_bic ON swift_sepa_routings USING btree (bic);


--
-- Name: index_transaction_fee_tiers_on_org_id__scheme__sort_key__month; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_transaction_fee_tiers_on_org_id__scheme__sort_key__month ON transaction_fee_tiers USING btree (organisation_id, scheme, sort_key, month);


--
-- Name: index_transaction_fees_on_invoice_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_transaction_fees_on_invoice_id ON transaction_fees USING btree (invoice_id);


--
-- Name: index_transaction_fees_on_payment_action_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_transaction_fees_on_payment_action_id ON transaction_fees USING btree (payment_action_id);


--
-- Name: index_txn_fee_tier_tmplts_on_org_id__cheme_sort_key_start_month; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_txn_fee_tier_tmplts_on_org_id__cheme_sort_key_start_month ON transaction_fee_tier_templates USING btree (organisation_id, scheme, sort_key, start_month);


--
-- Name: index_upgrade_transitions_parent_most_recent; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_upgrade_transitions_parent_most_recent ON upgrade_transitions USING btree (upgrade_id, most_recent) WHERE most_recent;


--
-- Name: index_upgrade_transitions_parent_sort; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_upgrade_transitions_parent_sort ON upgrade_transitions USING btree (upgrade_id, sort_key);


--
-- Name: index_upgrades_organisation_id_upgrade_type; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_upgrades_organisation_id_upgrade_type ON upgrades USING btree (organisation_id, upgrade_type);


--
-- Name: index_user_ip_addresses_on_user_id_and_ip_address; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_user_ip_addresses_on_user_id_and_ip_address ON user_ip_addresses USING btree (user_id, ip_address);


--
-- Name: index_users_on_email; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_users_on_email ON users USING btree (email);


--
-- Name: index_users_on_organisation_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_users_on_organisation_id ON users USING btree (organisation_id);


--
-- Name: index_verification_reminders_on_organisation_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_verification_reminders_on_organisation_id ON verification_reminders USING btree (organisation_id);


--
-- Name: index_verification_transitions_parent_most_recent; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_verification_transitions_parent_most_recent ON verification_transitions USING btree (verification_id, most_recent) WHERE most_recent;


--
-- Name: index_verification_transitions_parent_sort; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_verification_transitions_parent_sort ON verification_transitions USING btree (verification_id, sort_key);


--
-- Name: index_verifications_on_creditor_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_verifications_on_creditor_id ON verifications USING btree (creditor_id);


--
-- Name: index_verifications_on_risk_action_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_verifications_on_risk_action_id ON verifications USING btree (risk_action_id);


--
-- Name: index_watchlist_checks_on_watchlist_verification_transition_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_watchlist_checks_on_watchlist_verification_transition_id ON watchlist_checks USING btree (watchlist_verification_transition_id);


--
-- Name: index_watchlist_verification_transitions_parent_most_recent; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_watchlist_verification_transitions_parent_most_recent ON watchlist_verification_transitions USING btree (watchlist_verification_id, most_recent) WHERE most_recent;


--
-- Name: index_watchlist_verification_transitions_parent_sort; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_watchlist_verification_transitions_parent_sort ON watchlist_verification_transitions USING btree (watchlist_verification_id, sort_key);


--
-- Name: index_watchlist_verifications_on_creditor_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_watchlist_verifications_on_creditor_id ON watchlist_verifications USING btree (creditor_id);


--
-- Name: index_webhook_endpoints_on_app_id_enabled; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX index_webhook_endpoints_on_app_id_enabled ON webhook_endpoints USING btree (app_id, enabled) WHERE enabled;


--
-- Name: index_webhook_endpoints_on_organisation_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_webhook_endpoints_on_organisation_id ON webhook_endpoints USING btree (organisation_id) WHERE (organisation_id IS NOT NULL);


--
-- Name: index_webhooks_on_webhook_endpoint_id; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX index_webhooks_on_webhook_endpoint_id ON webhooks USING btree (webhook_endpoint_id);


--
-- Name: mandate_reference_prefix; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX mandate_reference_prefix ON mandates USING btree ((COALESCE("substring"((reference)::text, '(.+)-.*'::text), ''::text)));


--
-- Name: mandates_reference_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX mandates_reference_idx ON mandates USING btree (reference text_pattern_ops);


--
-- Name: one_unresolved_risk_alert_per_creditor; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX one_unresolved_risk_alert_per_creditor ON risk_alerts USING btree (creditor_id) WHERE (risk_profile_id IS NULL);


--
-- Name: unique_schema_migrations; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE UNIQUE INDEX unique_schema_migrations ON schema_migrations USING btree (version);


--
-- Name: access_tokens_app_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY access_tokens
    ADD CONSTRAINT access_tokens_app_id_fk FOREIGN KEY (app_id) REFERENCES apps(id);


--
-- Name: access_tokens_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY access_tokens
    ADD CONSTRAINT access_tokens_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: access_tokens_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY access_tokens
    ADD CONSTRAINT access_tokens_user_id_fk FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: account_closures_creditor_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY account_closures
    ADD CONSTRAINT account_closures_creditor_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id);


--
-- Name: account_closures_organisation_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY account_closures
    ADD CONSTRAINT account_closures_organisation_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: account_closures_risk_action_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY account_closures
    ADD CONSTRAINT account_closures_risk_action_fk FOREIGN KEY (risk_action_id) REFERENCES risk_actions(id);


--
-- Name: admin_comments_user_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY admin_comments
    ADD CONSTRAINT admin_comments_user_fk FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: app_fees_app_payout_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY app_fees
    ADD CONSTRAINT app_fees_app_payout_fk FOREIGN KEY (app_payout_id) REFERENCES payouts(id);


--
-- Name: app_fees_merchant_payout_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY app_fees
    ADD CONSTRAINT app_fees_merchant_payout_fk FOREIGN KEY (merchant_payout_id) REFERENCES payouts(id);


--
-- Name: app_fees_payment_actions_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY app_fees
    ADD CONSTRAINT app_fees_payment_actions_fk FOREIGN KEY (payment_action_id) REFERENCES payment_actions(id);


--
-- Name: app_revenue_share_agreements_apps_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY app_revenue_share_agreements
    ADD CONSTRAINT app_revenue_share_agreements_apps_fk FOREIGN KEY (app_id) REFERENCES apps(id);


--
-- Name: apps_creditor_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY apps
    ADD CONSTRAINT apps_creditor_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id);


--
-- Name: apps_organisation_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY apps
    ADD CONSTRAINT apps_organisation_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: authorisation_codes_app_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY authorisation_codes
    ADD CONSTRAINT authorisation_codes_app_fk FOREIGN KEY (app_id) REFERENCES apps(id);


--
-- Name: authorisation_codes_target_organisation_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY authorisation_codes
    ADD CONSTRAINT authorisation_codes_target_organisation_fk FOREIGN KEY (target_organisation_id) REFERENCES organisations(id);


--
-- Name: authorisation_links_authorisation_request_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY authorisation_links
    ADD CONSTRAINT authorisation_links_authorisation_request_fk FOREIGN KEY (authorisation_request_id) REFERENCES authorisation_requests(id);


--
-- Name: authorisation_links_creditor_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY authorisation_links
    ADD CONSTRAINT authorisation_links_creditor_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id);


--
-- Name: authorisation_links_paylink_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY authorisation_links
    ADD CONSTRAINT authorisation_links_paylink_fk FOREIGN KEY (paylink_id) REFERENCES paylinks(id);


--
-- Name: authorisation_links_plan_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY authorisation_links
    ADD CONSTRAINT authorisation_links_plan_fk FOREIGN KEY (plan_id) REFERENCES plans(id);


--
-- Name: authorisation_request_transitions_authorisation_request_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY authorisation_request_transitions
    ADD CONSTRAINT authorisation_request_transitions_authorisation_request_id_fk FOREIGN KEY (authorisation_request_id) REFERENCES authorisation_requests(id);


--
-- Name: authorisation_requests_creditor_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY authorisation_requests
    ADD CONSTRAINT authorisation_requests_creditor_id_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id);


--
-- Name: bank_account_transitions_bank_account_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY bank_account_transitions
    ADD CONSTRAINT bank_account_transitions_bank_account_id_fk FOREIGN KEY (bank_account_id) REFERENCES bank_accounts(id);


--
-- Name: bank_accounts_blacklisted_bank_account_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY bank_accounts
    ADD CONSTRAINT bank_accounts_blacklisted_bank_account_id_fk FOREIGN KEY (blacklisted_bank_account_id) REFERENCES blacklisted_bank_accounts(id);


--
-- Name: bank_accounts_creditor_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY bank_accounts
    ADD CONSTRAINT bank_accounts_creditor_id_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id) DEFERRABLE;


--
-- Name: bank_accounts_customer_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY bank_accounts
    ADD CONSTRAINT bank_accounts_customer_id_fk FOREIGN KEY (customer_id) REFERENCES customers(id) DEFERRABLE;


--
-- Name: bank_report_entries_bank_report_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY bank_report_entries
    ADD CONSTRAINT bank_report_entries_bank_report_id_fk FOREIGN KEY (bank_report_id) REFERENCES bank_reports(id);


--
-- Name: bank_report_entry_transitions_bank_report_entry_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY bank_report_entry_transitions
    ADD CONSTRAINT bank_report_entry_transitions_bank_report_entry_id_fk FOREIGN KEY (bank_report_entry_id) REFERENCES bank_report_entries(id);


--
-- Name: bank_reports_bank_submission_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY bank_reports
    ADD CONSTRAINT bank_reports_bank_submission_id_fk FOREIGN KEY (bank_submission_id) REFERENCES bank_submissions(id);


--
-- Name: bank_reports_sun_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY bank_reports
    ADD CONSTRAINT bank_reports_sun_id_fk FOREIGN KEY (sun_id) REFERENCES suns(id);


--
-- Name: bank_submission_batches_bank_submission_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY bank_submission_batches
    ADD CONSTRAINT bank_submission_batches_bank_submission_fk FOREIGN KEY (bank_submission_id) REFERENCES bank_submissions(id);


--
-- Name: bank_submissions_sun_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY bank_submissions
    ADD CONSTRAINT bank_submissions_sun_id_fk FOREIGN KEY (sun_id) REFERENCES suns(id);


--
-- Name: billing_contacts_organisation_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY billing_contacts
    ADD CONSTRAINT billing_contacts_organisation_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: company_details_creditor_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY company_details
    ADD CONSTRAINT company_details_creditor_id_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id);


--
-- Name: credit_transitions_bank_submission_batch_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY credit_transitions
    ADD CONSTRAINT credit_transitions_bank_submission_batch_fk FOREIGN KEY (bank_submission_batch_id) REFERENCES bank_submission_batches(id);


--
-- Name: creditor_restrictions_creditor_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY creditor_restrictions
    ADD CONSTRAINT creditor_restrictions_creditor_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id);


--
-- Name: creditor_restrictions_verification_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY creditor_restrictions
    ADD CONSTRAINT creditor_restrictions_verification_fk FOREIGN KEY (verification_id) REFERENCES verifications(id);


--
-- Name: creditors_charity_detail_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY creditors
    ADD CONSTRAINT creditors_charity_detail_id_fk FOREIGN KEY (charity_detail_id) REFERENCES charity_details(id);


--
-- Name: creditors_company_detail_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY creditors
    ADD CONSTRAINT creditors_company_detail_id_fk FOREIGN KEY (company_detail_id) REFERENCES company_details(id);


--
-- Name: creditors_default_eur_payout_account_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY creditors
    ADD CONSTRAINT creditors_default_eur_payout_account_id_fk FOREIGN KEY (default_eur_payout_account_id) REFERENCES bank_accounts(id);


--
-- Name: creditors_default_gbp_payout_account_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY creditors
    ADD CONSTRAINT creditors_default_gbp_payout_account_id_fk FOREIGN KEY (default_gbp_payout_account_id) REFERENCES bank_accounts(id);


--
-- Name: creditors_default_sek_payout_account_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY creditors
    ADD CONSTRAINT creditors_default_sek_payout_account_id_fk FOREIGN KEY (default_sek_payout_account_id) REFERENCES bank_accounts(id);


--
-- Name: creditors_individual_detail_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY creditors
    ADD CONSTRAINT creditors_individual_detail_id_fk FOREIGN KEY (individual_detail_id) REFERENCES individual_details(id);


--
-- Name: creditors_logo_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY creditors
    ADD CONSTRAINT creditors_logo_fk FOREIGN KEY (logo_id) REFERENCES logos(id);


--
-- Name: creditors_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY creditors
    ADD CONSTRAINT creditors_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: credits_bank_account_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY credits
    ADD CONSTRAINT credits_bank_account_id_fk FOREIGN KEY (bank_account_id) REFERENCES bank_accounts(id);


--
-- Name: credits_outbound_payment_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY credits
    ADD CONSTRAINT credits_outbound_payment_id_fk FOREIGN KEY (outbound_payment_id) REFERENCES outbound_payments(id);


--
-- Name: credits_payout_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY credits
    ADD CONSTRAINT credits_payout_id_fk FOREIGN KEY (payout_id) REFERENCES payouts(id);


--
-- Name: credits_refund_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY credits
    ADD CONSTRAINT credits_refund_id_fk FOREIGN KEY (refund_id) REFERENCES refunds(id);


--
-- Name: customer_bank_account_tokens_bank_account_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY customer_bank_account_tokens
    ADD CONSTRAINT customer_bank_account_tokens_bank_account_id_fk FOREIGN KEY (bank_account_id) REFERENCES bank_accounts(id);


--
-- Name: customer_bank_account_tokens_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY customer_bank_account_tokens
    ADD CONSTRAINT customer_bank_account_tokens_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: customers_default_eur_payment_account_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY customers
    ADD CONSTRAINT customers_default_eur_payment_account_id_fk FOREIGN KEY (default_eur_payment_account_id) REFERENCES bank_accounts(id);


--
-- Name: customers_default_gbp_payment_account_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY customers
    ADD CONSTRAINT customers_default_gbp_payment_account_id_fk FOREIGN KEY (default_gbp_payment_account_id) REFERENCES bank_accounts(id);


--
-- Name: customers_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY customers
    ADD CONSTRAINT customers_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: developer_contacts_organisation_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY developer_contacts
    ADD CONSTRAINT developer_contacts_organisation_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: events_mandate_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY events
    ADD CONSTRAINT events_mandate_id_fk FOREIGN KEY (mandate_id) REFERENCES mandates(id);


--
-- Name: events_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY events
    ADD CONSTRAINT events_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: events_payment_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY events
    ADD CONSTRAINT events_payment_id_fk FOREIGN KEY (payment_id) REFERENCES payments(id);


--
-- Name: events_payout_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY events
    ADD CONSTRAINT events_payout_id_fk FOREIGN KEY (payout_id) REFERENCES payouts(id);


--
-- Name: events_refund_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY events
    ADD CONSTRAINT events_refund_id_fk FOREIGN KEY (refund_id) REFERENCES refunds(id);


--
-- Name: fk_rails_5ea8388355; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY user_ip_addresses
    ADD CONSTRAINT fk_rails_5ea8388355 FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: fk_rails_61c02b0369; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY credit_transitions
    ADD CONSTRAINT fk_rails_61c02b0369 FOREIGN KEY (credit_id) REFERENCES credits(id);


--
-- Name: fk_rails_70f76b7bd8; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY idempotency_keys
    ADD CONSTRAINT fk_rails_70f76b7bd8 FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: individual_details_creditor_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY individual_details
    ADD CONSTRAINT individual_details_creditor_id_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id);


--
-- Name: invoices_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY invoices
    ADD CONSTRAINT invoices_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: legal_entity_checks_verification_transition_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY legal_entity_checks
    ADD CONSTRAINT legal_entity_checks_verification_transition_id_fk FOREIGN KEY (verification_transition_id) REFERENCES verification_transitions(id);


--
-- Name: logos_organisation_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY logos
    ADD CONSTRAINT logos_organisation_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: mandate_histories_bank_submission_batch_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY mandate_histories
    ADD CONSTRAINT mandate_histories_bank_submission_batch_fk FOREIGN KEY (bank_submission_batch_id) REFERENCES bank_submission_batches(id);


--
-- Name: mandate_histories_mandate_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY mandate_histories
    ADD CONSTRAINT mandate_histories_mandate_id_fk FOREIGN KEY (mandate_id) REFERENCES mandates(id);


--
-- Name: mandates_bank_account_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY mandates
    ADD CONSTRAINT mandates_bank_account_id_fk FOREIGN KEY (bank_account_id) REFERENCES bank_accounts(id);


--
-- Name: mandates_creditor_merchant_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY mandates
    ADD CONSTRAINT mandates_creditor_merchant_id_fk FOREIGN KEY (creditor_merchant_id) REFERENCES creditors(id) DEFERRABLE;


--
-- Name: mandates_sun_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY mandates
    ADD CONSTRAINT mandates_sun_id_fk FOREIGN KEY (sun_id) REFERENCES suns(id);


--
-- Name: monthly_fee_templates_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY monthly_fee_templates
    ADD CONSTRAINT monthly_fee_templates_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: monthly_fees_invoices_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY monthly_fees
    ADD CONSTRAINT monthly_fees_invoices_fk FOREIGN KEY (invoice_id) REFERENCES invoices(id);


--
-- Name: monthly_fees_monthly_fee_template_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY monthly_fees
    ADD CONSTRAINT monthly_fees_monthly_fee_template_id_fk FOREIGN KEY (monthly_fee_template_id) REFERENCES monthly_fee_templates(id);


--
-- Name: monthly_fees_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY monthly_fees
    ADD CONSTRAINT monthly_fees_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: organisations_signup_app_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY organisations
    ADD CONSTRAINT organisations_signup_app_id_fk FOREIGN KEY (signup_app_id) REFERENCES apps(id);


--
-- Name: organisations_sun_groups_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY organisations
    ADD CONSTRAINT organisations_sun_groups_fk FOREIGN KEY (sun_group_id) REFERENCES sun_groups(id);


--
-- Name: outbound_payments_bank_account_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY outbound_payments
    ADD CONSTRAINT outbound_payments_bank_account_id_fk FOREIGN KEY (bank_account_id) REFERENCES bank_accounts(id);


--
-- Name: outbound_payments_credit_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY outbound_payments
    ADD CONSTRAINT outbound_payments_credit_id_fk FOREIGN KEY (credit_id) REFERENCES credits(id);


--
-- Name: outbound_payments_risk_action_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY outbound_payments
    ADD CONSTRAINT outbound_payments_risk_action_fk FOREIGN KEY (risk_action_id) REFERENCES risk_actions(id);


--
-- Name: password_reset_tokens_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY password_reset_tokens
    ADD CONSTRAINT password_reset_tokens_user_id_fk FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: paylink_histories_paylink_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY paylink_histories
    ADD CONSTRAINT paylink_histories_paylink_fk FOREIGN KEY (paylink_id) REFERENCES paylinks(id);


--
-- Name: paylinks_authorisation_link_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY paylinks
    ADD CONSTRAINT paylinks_authorisation_link_fk FOREIGN KEY (authorisation_link_id) REFERENCES authorisation_links(id);


--
-- Name: paylinks_creditor_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY paylinks
    ADD CONSTRAINT paylinks_creditor_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id);


--
-- Name: payment_actions_bank_submission_batch_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_actions
    ADD CONSTRAINT payment_actions_bank_submission_batch_fk FOREIGN KEY (bank_submission_batch_id) REFERENCES bank_submission_batches(id);


--
-- Name: payment_actions_merchant_payout_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_actions
    ADD CONSTRAINT payment_actions_merchant_payout_id_fk FOREIGN KEY (merchant_payout_id) REFERENCES payouts(id);


--
-- Name: payment_actions_partner_payout_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_actions
    ADD CONSTRAINT payment_actions_partner_payout_id_fk FOREIGN KEY (partner_payout_id) REFERENCES payouts(id);


--
-- Name: payment_actions_payment_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payment_actions
    ADD CONSTRAINT payment_actions_payment_id_fk FOREIGN KEY (payment_id) REFERENCES payments(id);


--
-- Name: payment_app_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payments
    ADD CONSTRAINT payment_app_id_fk FOREIGN KEY (app_id) REFERENCES apps(id);


--
-- Name: payments_creditor_merchant_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payments
    ADD CONSTRAINT payments_creditor_merchant_id_fk FOREIGN KEY (creditor_merchant_id) REFERENCES creditors(id) DEFERRABLE;


--
-- Name: payments_creditor_partner_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payments
    ADD CONSTRAINT payments_creditor_partner_id_fk FOREIGN KEY (creditor_partner_id) REFERENCES creditors(id) DEFERRABLE;


--
-- Name: payments_mandate_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payments
    ADD CONSTRAINT payments_mandate_id_fk FOREIGN KEY (mandate_id) REFERENCES mandates(id);


--
-- Name: payments_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payments
    ADD CONSTRAINT payments_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: payments_paylink_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payments
    ADD CONSTRAINT payments_paylink_id_fk FOREIGN KEY (paylink_id) REFERENCES paylinks(id);


--
-- Name: payments_subscription_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payments
    ADD CONSTRAINT payments_subscription_id_fk FOREIGN KEY (subscription_id) REFERENCES subscriptions(id);


--
-- Name: payouts_bank_account_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY payouts
    ADD CONSTRAINT payouts_bank_account_id_fk FOREIGN KEY (bank_account_id) REFERENCES bank_accounts(id);


--
-- Name: pending_event_notifications_event_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY pending_event_notifications
    ADD CONSTRAINT pending_event_notifications_event_id_fk FOREIGN KEY (event_id) REFERENCES events(id);


--
-- Name: pending_resources_bank_account_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY pending_resources
    ADD CONSTRAINT pending_resources_bank_account_id_fk FOREIGN KEY (bank_account_id) REFERENCES bank_accounts(id);


--
-- Name: pending_resources_creditor_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY pending_resources
    ADD CONSTRAINT pending_resources_creditor_id_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id);


--
-- Name: pending_resources_customer_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY pending_resources
    ADD CONSTRAINT pending_resources_customer_id_fk FOREIGN KEY (customer_id) REFERENCES customers(id);


--
-- Name: pending_resources_mandate_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY pending_resources
    ADD CONSTRAINT pending_resources_mandate_id_fk FOREIGN KEY (mandate_id) REFERENCES mandates(id);


--
-- Name: pending_resources_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY pending_resources
    ADD CONSTRAINT pending_resources_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: plans_organisation_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY plans
    ADD CONSTRAINT plans_organisation_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: publishable_acces_tokens_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY publishable_access_tokens
    ADD CONSTRAINT publishable_acces_tokens_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: redirect_flows_authorisation_link_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY redirect_flows
    ADD CONSTRAINT redirect_flows_authorisation_link_fk FOREIGN KEY (authorisation_link_id) REFERENCES authorisation_links(id);


--
-- Name: redirect_flows_creditor_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY redirect_flows
    ADD CONSTRAINT redirect_flows_creditor_id_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id);


--
-- Name: redirect_flows_pending_resource_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY redirect_flows
    ADD CONSTRAINT redirect_flows_pending_resource_id_fk FOREIGN KEY (pending_resource_id) REFERENCES pending_resources(id);


--
-- Name: refunds_credit_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY refunds
    ADD CONSTRAINT refunds_credit_id_fk FOREIGN KEY (credit_id) REFERENCES credits(id);


--
-- Name: refunds_merchant_payout_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY refunds
    ADD CONSTRAINT refunds_merchant_payout_id_fk FOREIGN KEY (merchant_payout_id) REFERENCES payouts(id);


--
-- Name: refunds_partner_payout_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY refunds
    ADD CONSTRAINT refunds_partner_payout_id_fk FOREIGN KEY (partner_payout_id) REFERENCES payouts(id);


--
-- Name: refunds_payment_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY refunds
    ADD CONSTRAINT refunds_payment_fk FOREIGN KEY (payment_id) REFERENCES payments(id);


--
-- Name: revenue_shares_creditor_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY revenue_shares
    ADD CONSTRAINT revenue_shares_creditor_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id);


--
-- Name: revenue_shares_payout_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY revenue_shares
    ADD CONSTRAINT revenue_shares_payout_fk FOREIGN KEY (payout_id) REFERENCES payouts(id);


--
-- Name: revenue_shares_transaction_fee_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY revenue_shares
    ADD CONSTRAINT revenue_shares_transaction_fee_fk FOREIGN KEY (transaction_fee_id) REFERENCES transaction_fees(id);


--
-- Name: risk_action_transitions_risk_action_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY risk_action_transitions
    ADD CONSTRAINT risk_action_transitions_risk_action_id_fk FOREIGN KEY (risk_action_id) REFERENCES risk_actions(id);


--
-- Name: risk_actions_creditor_restriction_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY risk_actions
    ADD CONSTRAINT risk_actions_creditor_restriction_id_fk FOREIGN KEY (creditor_restriction_id) REFERENCES creditor_restrictions(id);


--
-- Name: risk_actions_customer_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY risk_actions
    ADD CONSTRAINT risk_actions_customer_id_fk FOREIGN KEY (customer_id) REFERENCES customers(id);


--
-- Name: risk_actions_risk_profile_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY risk_actions
    ADD CONSTRAINT risk_actions_risk_profile_id_fk FOREIGN KEY (risk_profile_id) REFERENCES risk_profiles(id);


--
-- Name: risk_actions_user_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY risk_actions
    ADD CONSTRAINT risk_actions_user_fk FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: risk_alert_triggers_risk_alert_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY risk_alert_triggers
    ADD CONSTRAINT risk_alert_triggers_risk_alert_id_fk FOREIGN KEY (risk_alert_id) REFERENCES risk_alerts(id);


--
-- Name: risk_alert_triggers_user_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY risk_alert_triggers
    ADD CONSTRAINT risk_alert_triggers_user_fk FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: risk_alerts_creditor_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY risk_alerts
    ADD CONSTRAINT risk_alerts_creditor_id_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id);


--
-- Name: risk_alerts_risk_profile_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY risk_alerts
    ADD CONSTRAINT risk_alerts_risk_profile_id_fk FOREIGN KEY (risk_profile_id) REFERENCES risk_profiles(id);


--
-- Name: risk_profile_question_answers_risk_profile; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY risk_profile_question_answers
    ADD CONSTRAINT risk_profile_question_answers_risk_profile FOREIGN KEY (risk_profile_id) REFERENCES risk_profiles(id);


--
-- Name: risk_profiles_user_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY risk_profiles
    ADD CONSTRAINT risk_profiles_user_id_fk FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: subscription_amendments_subscription_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY subscription_amendments
    ADD CONSTRAINT subscription_amendments_subscription_id_fk FOREIGN KEY (subscription_id) REFERENCES subscriptions(id);


--
-- Name: subscription_transitions_subscription_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY subscription_transitions
    ADD CONSTRAINT subscription_transitions_subscription_id_fk FOREIGN KEY (subscription_id) REFERENCES subscriptions(id);


--
-- Name: subscriptions_mandate_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY subscriptions
    ADD CONSTRAINT subscriptions_mandate_id_fk FOREIGN KEY (mandate_id) REFERENCES mandates(id);


--
-- Name: subscriptions_plan_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY subscriptions
    ADD CONSTRAINT subscriptions_plan_fk FOREIGN KEY (plan_id) REFERENCES plans(id);


--
-- Name: sun_groups_suns_suns_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY sun_groups_suns
    ADD CONSTRAINT sun_groups_suns_suns_fk FOREIGN KEY (sun_id) REFERENCES suns(id);


--
-- Name: support_contacts_organisation_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY support_contacts
    ADD CONSTRAINT support_contacts_organisation_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: transaction_fee_tier_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY transaction_fee_tiers
    ADD CONSTRAINT transaction_fee_tier_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: transaction_fee_tier_templates_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY transaction_fee_tier_templates
    ADD CONSTRAINT transaction_fee_tier_templates_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: transaction_fee_tiers_transaction_fee_tier_template_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY transaction_fee_tiers
    ADD CONSTRAINT transaction_fee_tiers_transaction_fee_tier_template_id_fk FOREIGN KEY (transaction_fee_tier_template_id) REFERENCES transaction_fee_tier_templates(id);


--
-- Name: transaction_fees_invoice_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY transaction_fees
    ADD CONSTRAINT transaction_fees_invoice_id_fk FOREIGN KEY (invoice_id) REFERENCES invoices(id);


--
-- Name: transaction_fees_payment_action_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY transaction_fees
    ADD CONSTRAINT transaction_fees_payment_action_id_fk FOREIGN KEY (payment_action_id) REFERENCES payment_actions(id);


--
-- Name: transaction_fees_payout_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY transaction_fees
    ADD CONSTRAINT transaction_fees_payout_id_fk FOREIGN KEY (payout_id) REFERENCES payouts(id);


--
-- Name: transaction_feese_transaction_fee_tier_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY transaction_fees
    ADD CONSTRAINT transaction_feese_transaction_fee_tier_id_fk FOREIGN KEY (transaction_fee_tier_id) REFERENCES transaction_fee_tiers(id);


--
-- Name: upgrade_transitions_upgrade_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY upgrade_transitions
    ADD CONSTRAINT upgrade_transitions_upgrade_id_fk FOREIGN KEY (upgrade_id) REFERENCES upgrades(id);


--
-- Name: upgrades_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY upgrades
    ADD CONSTRAINT upgrades_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: users_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: verification_reminders_organisation_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY verification_reminders
    ADD CONSTRAINT verification_reminders_organisation_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: verification_transitions_verification_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY verification_transitions
    ADD CONSTRAINT verification_transitions_verification_id_fk FOREIGN KEY (verification_id) REFERENCES verifications(id);


--
-- Name: verifications_creditor_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY verifications
    ADD CONSTRAINT verifications_creditor_id_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id);


--
-- Name: verifications_parent_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY verifications
    ADD CONSTRAINT verifications_parent_id_fk FOREIGN KEY (parent_id) REFERENCES verifications(id);


--
-- Name: verifications_risk_action_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY verifications
    ADD CONSTRAINT verifications_risk_action_fk FOREIGN KEY (risk_action_id) REFERENCES risk_actions(id);


--
-- Name: watchlist_checks_verification_transition_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY watchlist_checks
    ADD CONSTRAINT watchlist_checks_verification_transition_id_fk FOREIGN KEY (watchlist_verification_transition_id) REFERENCES watchlist_verification_transitions(id);


--
-- Name: watchlist_verification_transitions_watchlist_verification_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY watchlist_verification_transitions
    ADD CONSTRAINT watchlist_verification_transitions_watchlist_verification_id_fk FOREIGN KEY (watchlist_verification_id) REFERENCES watchlist_verifications(id);


--
-- Name: watchlist_verifications_creditor_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY watchlist_verifications
    ADD CONSTRAINT watchlist_verifications_creditor_id_fk FOREIGN KEY (creditor_id) REFERENCES creditors(id);


--
-- Name: webhook_endpoints_app_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY webhook_endpoints
    ADD CONSTRAINT webhook_endpoints_app_id_fk FOREIGN KEY (app_id) REFERENCES apps(id);


--
-- Name: webhook_endpoints_organisation_id_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY webhook_endpoints
    ADD CONSTRAINT webhook_endpoints_organisation_id_fk FOREIGN KEY (organisation_id) REFERENCES organisations(id);


--
-- Name: webhooks_webhook_endpoint_fk; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY webhooks
    ADD CONSTRAINT webhooks_webhook_endpoint_fk FOREIGN KEY (webhook_endpoint_id) REFERENCES webhook_endpoints(id);


--
-- PostgreSQL database dump complete
--

SET search_path TO "$user",public;

INSERT INTO schema_migrations (version) VALUES ('20120823112022');

INSERT INTO schema_migrations (version) VALUES ('20120823112053');

INSERT INTO schema_migrations (version) VALUES ('20120823164733');

INSERT INTO schema_migrations (version) VALUES ('20121121185354');

INSERT INTO schema_migrations (version) VALUES ('20121121185355');

INSERT INTO schema_migrations (version) VALUES ('20121122222354');

INSERT INTO schema_migrations (version) VALUES ('20121124183306');

INSERT INTO schema_migrations (version) VALUES ('20121220132415');

INSERT INTO schema_migrations (version) VALUES ('20130110171759');

INSERT INTO schema_migrations (version) VALUES ('20130110171829');

INSERT INTO schema_migrations (version) VALUES ('20130111135354');

INSERT INTO schema_migrations (version) VALUES ('20130115130005');

INSERT INTO schema_migrations (version) VALUES ('20130115180021');

INSERT INTO schema_migrations (version) VALUES ('20130117102050');

INSERT INTO schema_migrations (version) VALUES ('20130118133758');

INSERT INTO schema_migrations (version) VALUES ('20130118134605');

INSERT INTO schema_migrations (version) VALUES ('20130121105838');

INSERT INTO schema_migrations (version) VALUES ('20130121162807');

INSERT INTO schema_migrations (version) VALUES ('20130122125640');

INSERT INTO schema_migrations (version) VALUES ('20130124114410');

INSERT INTO schema_migrations (version) VALUES ('20130206114213');

INSERT INTO schema_migrations (version) VALUES ('20130206145215');

INSERT INTO schema_migrations (version) VALUES ('20130206145236');

INSERT INTO schema_migrations (version) VALUES ('20130206145237');

INSERT INTO schema_migrations (version) VALUES ('20130206154330');

INSERT INTO schema_migrations (version) VALUES ('20130211175716');

INSERT INTO schema_migrations (version) VALUES ('20130214094044');

INSERT INTO schema_migrations (version) VALUES ('20130218151546');

INSERT INTO schema_migrations (version) VALUES ('20130219114851');

INSERT INTO schema_migrations (version) VALUES ('20130220151702');

INSERT INTO schema_migrations (version) VALUES ('20130222111820');

INSERT INTO schema_migrations (version) VALUES ('20130227201807');

INSERT INTO schema_migrations (version) VALUES ('20130227201898');

INSERT INTO schema_migrations (version) VALUES ('20130305183703');

INSERT INTO schema_migrations (version) VALUES ('20130306140128');

INSERT INTO schema_migrations (version) VALUES ('20130306162011');

INSERT INTO schema_migrations (version) VALUES ('20130312130348');

INSERT INTO schema_migrations (version) VALUES ('20130320100556');

INSERT INTO schema_migrations (version) VALUES ('20130320174306');

INSERT INTO schema_migrations (version) VALUES ('20130422133717');

INSERT INTO schema_migrations (version) VALUES ('20130501135719');

INSERT INTO schema_migrations (version) VALUES ('20130501151152');

INSERT INTO schema_migrations (version) VALUES ('20130501164601');

INSERT INTO schema_migrations (version) VALUES ('20130531085100');

INSERT INTO schema_migrations (version) VALUES ('20130617141235');

INSERT INTO schema_migrations (version) VALUES ('20130617151133');

INSERT INTO schema_migrations (version) VALUES ('20130703091604');

INSERT INTO schema_migrations (version) VALUES ('20130705160731');

INSERT INTO schema_migrations (version) VALUES ('20130716105826');

INSERT INTO schema_migrations (version) VALUES ('20130719155240');

INSERT INTO schema_migrations (version) VALUES ('20130723100430');

INSERT INTO schema_migrations (version) VALUES ('20130815150736');

INSERT INTO schema_migrations (version) VALUES ('20130821094928');

INSERT INTO schema_migrations (version) VALUES ('20130821170258');

INSERT INTO schema_migrations (version) VALUES ('20130822102027');

INSERT INTO schema_migrations (version) VALUES ('20130906130015');

INSERT INTO schema_migrations (version) VALUES ('20130913155003');

INSERT INTO schema_migrations (version) VALUES ('20130916100009');

INSERT INTO schema_migrations (version) VALUES ('20130923162712');

INSERT INTO schema_migrations (version) VALUES ('20130925160429');

INSERT INTO schema_migrations (version) VALUES ('20130925220808');

INSERT INTO schema_migrations (version) VALUES ('20130926084637');

INSERT INTO schema_migrations (version) VALUES ('20130927090611');

INSERT INTO schema_migrations (version) VALUES ('20130927095634');

INSERT INTO schema_migrations (version) VALUES ('20130930124048');

INSERT INTO schema_migrations (version) VALUES ('20131001111618');

INSERT INTO schema_migrations (version) VALUES ('20131023133841');

INSERT INTO schema_migrations (version) VALUES ('20131023143948');

INSERT INTO schema_migrations (version) VALUES ('20131023145259');

INSERT INTO schema_migrations (version) VALUES ('20131024101538');

INSERT INTO schema_migrations (version) VALUES ('20131028122800');

INSERT INTO schema_migrations (version) VALUES ('20131107104208');

INSERT INTO schema_migrations (version) VALUES ('20131107120412');

INSERT INTO schema_migrations (version) VALUES ('20131107162836');

INSERT INTO schema_migrations (version) VALUES ('20131107163705');

INSERT INTO schema_migrations (version) VALUES ('20131111150110');

INSERT INTO schema_migrations (version) VALUES ('20131113144311');

INSERT INTO schema_migrations (version) VALUES ('20131113153306');

INSERT INTO schema_migrations (version) VALUES ('20131119174139');

INSERT INTO schema_migrations (version) VALUES ('20131125105222');

INSERT INTO schema_migrations (version) VALUES ('20131125115959');

INSERT INTO schema_migrations (version) VALUES ('20131125170702');

INSERT INTO schema_migrations (version) VALUES ('20131128161453');

INSERT INTO schema_migrations (version) VALUES ('20131128161815');

INSERT INTO schema_migrations (version) VALUES ('20131129201748');

INSERT INTO schema_migrations (version) VALUES ('20131219173639');

INSERT INTO schema_migrations (version) VALUES ('20131221100626');

INSERT INTO schema_migrations (version) VALUES ('20140121151105');

INSERT INTO schema_migrations (version) VALUES ('20140127112207');

INSERT INTO schema_migrations (version) VALUES ('20140127112406');

INSERT INTO schema_migrations (version) VALUES ('20140128101623');

INSERT INTO schema_migrations (version) VALUES ('20140205140514');

INSERT INTO schema_migrations (version) VALUES ('20140304132339');

INSERT INTO schema_migrations (version) VALUES ('20140306162039');

INSERT INTO schema_migrations (version) VALUES ('20140331084348');

INSERT INTO schema_migrations (version) VALUES ('20140331084425');

INSERT INTO schema_migrations (version) VALUES ('20140331085141');

INSERT INTO schema_migrations (version) VALUES ('20140331105937');

INSERT INTO schema_migrations (version) VALUES ('20140331165458');

INSERT INTO schema_migrations (version) VALUES ('20140401090053');

INSERT INTO schema_migrations (version) VALUES ('20140401124704');

INSERT INTO schema_migrations (version) VALUES ('20140403153353');

INSERT INTO schema_migrations (version) VALUES ('20140404110803');

INSERT INTO schema_migrations (version) VALUES ('20140407170217');

INSERT INTO schema_migrations (version) VALUES ('20140411174801');

INSERT INTO schema_migrations (version) VALUES ('20140414104804');

INSERT INTO schema_migrations (version) VALUES ('20140414153407');

INSERT INTO schema_migrations (version) VALUES ('20140414154643');

INSERT INTO schema_migrations (version) VALUES ('20140414155855');

INSERT INTO schema_migrations (version) VALUES ('20140414160248');

INSERT INTO schema_migrations (version) VALUES ('20140414172017');

INSERT INTO schema_migrations (version) VALUES ('20140414201823');

INSERT INTO schema_migrations (version) VALUES ('20140414203647');

INSERT INTO schema_migrations (version) VALUES ('20140414205821');

INSERT INTO schema_migrations (version) VALUES ('20140415100000');

INSERT INTO schema_migrations (version) VALUES ('20140415101000');

INSERT INTO schema_migrations (version) VALUES ('20140415102000');

INSERT INTO schema_migrations (version) VALUES ('20140415103000');

INSERT INTO schema_migrations (version) VALUES ('20140416140806');

INSERT INTO schema_migrations (version) VALUES ('20140416160451');

INSERT INTO schema_migrations (version) VALUES ('20140422085652');

INSERT INTO schema_migrations (version) VALUES ('20140422092026');

INSERT INTO schema_migrations (version) VALUES ('20140422105236');

INSERT INTO schema_migrations (version) VALUES ('20140422142957');

INSERT INTO schema_migrations (version) VALUES ('20140422143436');

INSERT INTO schema_migrations (version) VALUES ('20140422155851');

INSERT INTO schema_migrations (version) VALUES ('20140422160928');

INSERT INTO schema_migrations (version) VALUES ('20140422162304');

INSERT INTO schema_migrations (version) VALUES ('20140423115523');

INSERT INTO schema_migrations (version) VALUES ('20140428082705');

INSERT INTO schema_migrations (version) VALUES ('20140501080205');

INSERT INTO schema_migrations (version) VALUES ('20140513105452');

INSERT INTO schema_migrations (version) VALUES ('20140515154404');

INSERT INTO schema_migrations (version) VALUES ('20140515161741');

INSERT INTO schema_migrations (version) VALUES ('20140515163517');

INSERT INTO schema_migrations (version) VALUES ('20140516101317');

INSERT INTO schema_migrations (version) VALUES ('20140516123636');

INSERT INTO schema_migrations (version) VALUES ('20140516141217');

INSERT INTO schema_migrations (version) VALUES ('20140516151012');

INSERT INTO schema_migrations (version) VALUES ('20140516151707');

INSERT INTO schema_migrations (version) VALUES ('20140516155958');

INSERT INTO schema_migrations (version) VALUES ('20140516161233');

INSERT INTO schema_migrations (version) VALUES ('20140516162100');

INSERT INTO schema_migrations (version) VALUES ('20140519103748');

INSERT INTO schema_migrations (version) VALUES ('20140519110330');

INSERT INTO schema_migrations (version) VALUES ('20140519140050');

INSERT INTO schema_migrations (version) VALUES ('20140519143748');

INSERT INTO schema_migrations (version) VALUES ('20140520082118');

INSERT INTO schema_migrations (version) VALUES ('20140521113832');

INSERT INTO schema_migrations (version) VALUES ('20140521124603');

INSERT INTO schema_migrations (version) VALUES ('20140521125942');

INSERT INTO schema_migrations (version) VALUES ('20140521132443');

INSERT INTO schema_migrations (version) VALUES ('20140522123110');

INSERT INTO schema_migrations (version) VALUES ('20140523132558');

INSERT INTO schema_migrations (version) VALUES ('20140523155733');

INSERT INTO schema_migrations (version) VALUES ('20140529150036');

INSERT INTO schema_migrations (version) VALUES ('20140529150437');

INSERT INTO schema_migrations (version) VALUES ('20140530120414');

INSERT INTO schema_migrations (version) VALUES ('20140617145031');

INSERT INTO schema_migrations (version) VALUES ('20140618155320');

INSERT INTO schema_migrations (version) VALUES ('20140619142234');

INSERT INTO schema_migrations (version) VALUES ('20140619162807');

INSERT INTO schema_migrations (version) VALUES ('20140626185115');

INSERT INTO schema_migrations (version) VALUES ('20140701132815');

INSERT INTO schema_migrations (version) VALUES ('20140707130048');

INSERT INTO schema_migrations (version) VALUES ('20140707134541');

INSERT INTO schema_migrations (version) VALUES ('20140708095442');

INSERT INTO schema_migrations (version) VALUES ('20140708125411');

INSERT INTO schema_migrations (version) VALUES ('20140708140732');

INSERT INTO schema_migrations (version) VALUES ('20140708141309');

INSERT INTO schema_migrations (version) VALUES ('20140709100526');

INSERT INTO schema_migrations (version) VALUES ('20140709144441');

INSERT INTO schema_migrations (version) VALUES ('20140709145425');

INSERT INTO schema_migrations (version) VALUES ('20140709160000');

INSERT INTO schema_migrations (version) VALUES ('20140710103124');

INSERT INTO schema_migrations (version) VALUES ('20140710104210');

INSERT INTO schema_migrations (version) VALUES ('20140711102852');

INSERT INTO schema_migrations (version) VALUES ('20140711111255');

INSERT INTO schema_migrations (version) VALUES ('20140711141622');

INSERT INTO schema_migrations (version) VALUES ('20140714093119');

INSERT INTO schema_migrations (version) VALUES ('20140714131345');

INSERT INTO schema_migrations (version) VALUES ('20140716130650');

INSERT INTO schema_migrations (version) VALUES ('20140716154807');

INSERT INTO schema_migrations (version) VALUES ('20140721133642');

INSERT INTO schema_migrations (version) VALUES ('20140721135850');

INSERT INTO schema_migrations (version) VALUES ('20140722103747');

INSERT INTO schema_migrations (version) VALUES ('20140724103500');

INSERT INTO schema_migrations (version) VALUES ('20140725084520');

INSERT INTO schema_migrations (version) VALUES ('20140725085626');

INSERT INTO schema_migrations (version) VALUES ('20140725113455');

INSERT INTO schema_migrations (version) VALUES ('20140730182357');

INSERT INTO schema_migrations (version) VALUES ('20140804093614');

INSERT INTO schema_migrations (version) VALUES ('20140804131845');

INSERT INTO schema_migrations (version) VALUES ('20140804172703');

INSERT INTO schema_migrations (version) VALUES ('20140809133230');

INSERT INTO schema_migrations (version) VALUES ('20140811145857');

INSERT INTO schema_migrations (version) VALUES ('20140812154330');

INSERT INTO schema_migrations (version) VALUES ('20140814092700');

INSERT INTO schema_migrations (version) VALUES ('20140814094250');

INSERT INTO schema_migrations (version) VALUES ('20140814141808');

INSERT INTO schema_migrations (version) VALUES ('20140814162202');

INSERT INTO schema_migrations (version) VALUES ('20140814225503');

INSERT INTO schema_migrations (version) VALUES ('20140815101708');

INSERT INTO schema_migrations (version) VALUES ('20140815152354');

INSERT INTO schema_migrations (version) VALUES ('20140819202042');

INSERT INTO schema_migrations (version) VALUES ('20140820101757');

INSERT INTO schema_migrations (version) VALUES ('20140820153326');

INSERT INTO schema_migrations (version) VALUES ('20140821092423');

INSERT INTO schema_migrations (version) VALUES ('20140821101925');

INSERT INTO schema_migrations (version) VALUES ('20140826103602');

INSERT INTO schema_migrations (version) VALUES ('20140826152449');

INSERT INTO schema_migrations (version) VALUES ('20140826153651');

INSERT INTO schema_migrations (version) VALUES ('20140826153703');

INSERT INTO schema_migrations (version) VALUES ('20140827133053');

INSERT INTO schema_migrations (version) VALUES ('20140903095551');

INSERT INTO schema_migrations (version) VALUES ('20140904081652');

INSERT INTO schema_migrations (version) VALUES ('20140904174217');

INSERT INTO schema_migrations (version) VALUES ('20140908165427');

INSERT INTO schema_migrations (version) VALUES ('20140908180018');

INSERT INTO schema_migrations (version) VALUES ('20140908181013');

INSERT INTO schema_migrations (version) VALUES ('20140911152506');

INSERT INTO schema_migrations (version) VALUES ('20140912151955');

INSERT INTO schema_migrations (version) VALUES ('20140912154220');

INSERT INTO schema_migrations (version) VALUES ('20140915125812');

INSERT INTO schema_migrations (version) VALUES ('20140915130307');

INSERT INTO schema_migrations (version) VALUES ('20140915130852');

INSERT INTO schema_migrations (version) VALUES ('20140915161553');

INSERT INTO schema_migrations (version) VALUES ('20140916150729');

INSERT INTO schema_migrations (version) VALUES ('20140926120511');

INSERT INTO schema_migrations (version) VALUES ('20140930075309');

INSERT INTO schema_migrations (version) VALUES ('20141001205545');

INSERT INTO schema_migrations (version) VALUES ('20141006093725');

INSERT INTO schema_migrations (version) VALUES ('20141006094705');

INSERT INTO schema_migrations (version) VALUES ('20141006095550');

INSERT INTO schema_migrations (version) VALUES ('20141007103414');

INSERT INTO schema_migrations (version) VALUES ('20141007131541');

INSERT INTO schema_migrations (version) VALUES ('20141008130133');

INSERT INTO schema_migrations (version) VALUES ('20141008134300');

INSERT INTO schema_migrations (version) VALUES ('20141008142216');

INSERT INTO schema_migrations (version) VALUES ('20141008152928');

INSERT INTO schema_migrations (version) VALUES ('20141009100159');

INSERT INTO schema_migrations (version) VALUES ('20141009134955');

INSERT INTO schema_migrations (version) VALUES ('20141009192158');

INSERT INTO schema_migrations (version) VALUES ('20141010104823');

INSERT INTO schema_migrations (version) VALUES ('20141010110957');

INSERT INTO schema_migrations (version) VALUES ('20141014225559');

INSERT INTO schema_migrations (version) VALUES ('20141015103407');

INSERT INTO schema_migrations (version) VALUES ('20141015120300');

INSERT INTO schema_migrations (version) VALUES ('20141016132658');

INSERT INTO schema_migrations (version) VALUES ('20141016143543');

INSERT INTO schema_migrations (version) VALUES ('20141016210907');

INSERT INTO schema_migrations (version) VALUES ('20141020150505');

INSERT INTO schema_migrations (version) VALUES ('20141020203355');

INSERT INTO schema_migrations (version) VALUES ('20141020205828');

INSERT INTO schema_migrations (version) VALUES ('20141021091650');

INSERT INTO schema_migrations (version) VALUES ('20141021161842');

INSERT INTO schema_migrations (version) VALUES ('20141022115617');

INSERT INTO schema_migrations (version) VALUES ('20141022115637');

INSERT INTO schema_migrations (version) VALUES ('20141022140940');

INSERT INTO schema_migrations (version) VALUES ('20141024110533');

INSERT INTO schema_migrations (version) VALUES ('20141024135935');

INSERT INTO schema_migrations (version) VALUES ('20141024145537');

INSERT INTO schema_migrations (version) VALUES ('20141026103656');

INSERT INTO schema_migrations (version) VALUES ('20141026105153');

INSERT INTO schema_migrations (version) VALUES ('20141026135221');

INSERT INTO schema_migrations (version) VALUES ('20141026222038');

INSERT INTO schema_migrations (version) VALUES ('20141027092438');

INSERT INTO schema_migrations (version) VALUES ('20141027143553');

INSERT INTO schema_migrations (version) VALUES ('20141027160724');

INSERT INTO schema_migrations (version) VALUES ('20141028180815');

INSERT INTO schema_migrations (version) VALUES ('20141030150526');

INSERT INTO schema_migrations (version) VALUES ('20141030172801');

INSERT INTO schema_migrations (version) VALUES ('20141101160432');

INSERT INTO schema_migrations (version) VALUES ('20141102163110');

INSERT INTO schema_migrations (version) VALUES ('20141103113543');

INSERT INTO schema_migrations (version) VALUES ('20141103220305');

INSERT INTO schema_migrations (version) VALUES ('20141103221642');

INSERT INTO schema_migrations (version) VALUES ('20141104135919');

INSERT INTO schema_migrations (version) VALUES ('20141104141122');

INSERT INTO schema_migrations (version) VALUES ('20141104205328');

INSERT INTO schema_migrations (version) VALUES ('20141104210029');

INSERT INTO schema_migrations (version) VALUES ('20141106232952');

INSERT INTO schema_migrations (version) VALUES ('20141107123213');

INSERT INTO schema_migrations (version) VALUES ('20141107134315');

INSERT INTO schema_migrations (version) VALUES ('20141110204925');

INSERT INTO schema_migrations (version) VALUES ('20141112132626');

INSERT INTO schema_migrations (version) VALUES ('20141112154744');

INSERT INTO schema_migrations (version) VALUES ('20141117111702');

INSERT INTO schema_migrations (version) VALUES ('20141117112225');

INSERT INTO schema_migrations (version) VALUES ('20141117225724');

INSERT INTO schema_migrations (version) VALUES ('20141118160413');

INSERT INTO schema_migrations (version) VALUES ('20141118170037');

INSERT INTO schema_migrations (version) VALUES ('20141118180125');

INSERT INTO schema_migrations (version) VALUES ('20141119181824');

INSERT INTO schema_migrations (version) VALUES ('20141120122646');

INSERT INTO schema_migrations (version) VALUES ('20141122172433');

INSERT INTO schema_migrations (version) VALUES ('20141122201137');

INSERT INTO schema_migrations (version) VALUES ('20141124124631');

INSERT INTO schema_migrations (version) VALUES ('20141124180537');

INSERT INTO schema_migrations (version) VALUES ('20141124233607');

INSERT INTO schema_migrations (version) VALUES ('20141125121630');

INSERT INTO schema_migrations (version) VALUES ('20141128141026');

INSERT INTO schema_migrations (version) VALUES ('20141202160407');

INSERT INTO schema_migrations (version) VALUES ('20141202175127');

INSERT INTO schema_migrations (version) VALUES ('20141202182911');

INSERT INTO schema_migrations (version) VALUES ('20141202191213');

INSERT INTO schema_migrations (version) VALUES ('20141202203014');

INSERT INTO schema_migrations (version) VALUES ('20141203115916');

INSERT INTO schema_migrations (version) VALUES ('20141203140756');

INSERT INTO schema_migrations (version) VALUES ('20141203184239');

INSERT INTO schema_migrations (version) VALUES ('20141203234700');

INSERT INTO schema_migrations (version) VALUES ('20141204180725');

INSERT INTO schema_migrations (version) VALUES ('20141205141536');

INSERT INTO schema_migrations (version) VALUES ('20141216001425');

INSERT INTO schema_migrations (version) VALUES ('20141216003052');

INSERT INTO schema_migrations (version) VALUES ('20141216180127');

INSERT INTO schema_migrations (version) VALUES ('20141218150109');

INSERT INTO schema_migrations (version) VALUES ('20141219173050');

INSERT INTO schema_migrations (version) VALUES ('20141227144014');

INSERT INTO schema_migrations (version) VALUES ('20141229100053');

INSERT INTO schema_migrations (version) VALUES ('20150105130219');

INSERT INTO schema_migrations (version) VALUES ('20150105134153');

INSERT INTO schema_migrations (version) VALUES ('20150105155016');

INSERT INTO schema_migrations (version) VALUES ('20150105161028');

INSERT INTO schema_migrations (version) VALUES ('20150105165811');

INSERT INTO schema_migrations (version) VALUES ('20150106160017');

INSERT INTO schema_migrations (version) VALUES ('20150106163244');

INSERT INTO schema_migrations (version) VALUES ('20150106170024');

INSERT INTO schema_migrations (version) VALUES ('20150106172410');

INSERT INTO schema_migrations (version) VALUES ('20150107150539');

INSERT INTO schema_migrations (version) VALUES ('20150108120922');

INSERT INTO schema_migrations (version) VALUES ('20150108145018');

INSERT INTO schema_migrations (version) VALUES ('20150109082203');

INSERT INTO schema_migrations (version) VALUES ('20150109115522');

INSERT INTO schema_migrations (version) VALUES ('20150113185923');

INSERT INTO schema_migrations (version) VALUES ('20150116141619');

INSERT INTO schema_migrations (version) VALUES ('20150119163125');

INSERT INTO schema_migrations (version) VALUES ('20150120114710');

INSERT INTO schema_migrations (version) VALUES ('20150121143610');

INSERT INTO schema_migrations (version) VALUES ('20150121174017');

INSERT INTO schema_migrations (version) VALUES ('20150121180145');

INSERT INTO schema_migrations (version) VALUES ('20150121182232');

INSERT INTO schema_migrations (version) VALUES ('20150121191234');

INSERT INTO schema_migrations (version) VALUES ('20150121202843');

INSERT INTO schema_migrations (version) VALUES ('20150121221149');

INSERT INTO schema_migrations (version) VALUES ('20150121224758');

INSERT INTO schema_migrations (version) VALUES ('20150122123220');

INSERT INTO schema_migrations (version) VALUES ('20150122123400');

INSERT INTO schema_migrations (version) VALUES ('20150122123856');

INSERT INTO schema_migrations (version) VALUES ('20150122153852');

INSERT INTO schema_migrations (version) VALUES ('20150122185516');

INSERT INTO schema_migrations (version) VALUES ('20150122185846');

INSERT INTO schema_migrations (version) VALUES ('20150123143400');

INSERT INTO schema_migrations (version) VALUES ('20150126115028');

INSERT INTO schema_migrations (version) VALUES ('20150126120053');

INSERT INTO schema_migrations (version) VALUES ('20150127123320');

INSERT INTO schema_migrations (version) VALUES ('20150127145329');

INSERT INTO schema_migrations (version) VALUES ('20150127152934');

INSERT INTO schema_migrations (version) VALUES ('20150127190955');

INSERT INTO schema_migrations (version) VALUES ('20150128174336');

INSERT INTO schema_migrations (version) VALUES ('20150128194857');

INSERT INTO schema_migrations (version) VALUES ('20150128195154');

INSERT INTO schema_migrations (version) VALUES ('20150128195826');

INSERT INTO schema_migrations (version) VALUES ('20150128214911');

INSERT INTO schema_migrations (version) VALUES ('20150129150959');

INSERT INTO schema_migrations (version) VALUES ('20150130102229');

INSERT INTO schema_migrations (version) VALUES ('20150131172442');

INSERT INTO schema_migrations (version) VALUES ('20150202204826');

INSERT INTO schema_migrations (version) VALUES ('20150203153140');

INSERT INTO schema_migrations (version) VALUES ('20150203153739');

INSERT INTO schema_migrations (version) VALUES ('20150205144633');

INSERT INTO schema_migrations (version) VALUES ('20150206114345');

INSERT INTO schema_migrations (version) VALUES ('20150210182903');

INSERT INTO schema_migrations (version) VALUES ('20150210183500');

INSERT INTO schema_migrations (version) VALUES ('20150210184410');

INSERT INTO schema_migrations (version) VALUES ('20150211181604');

INSERT INTO schema_migrations (version) VALUES ('20150216155914');

INSERT INTO schema_migrations (version) VALUES ('20150216163019');

INSERT INTO schema_migrations (version) VALUES ('20150218123733');

INSERT INTO schema_migrations (version) VALUES ('20150218124310');

INSERT INTO schema_migrations (version) VALUES ('20150218143412');

INSERT INTO schema_migrations (version) VALUES ('20150223235154');

INSERT INTO schema_migrations (version) VALUES ('20150225142234');

INSERT INTO schema_migrations (version) VALUES ('20150225192108');

INSERT INTO schema_migrations (version) VALUES ('20150227164544');

INSERT INTO schema_migrations (version) VALUES ('20150228021032');

INSERT INTO schema_migrations (version) VALUES ('20150228022133');

INSERT INTO schema_migrations (version) VALUES ('20150228030957');

INSERT INTO schema_migrations (version) VALUES ('20150228165422');

INSERT INTO schema_migrations (version) VALUES ('20150303173149');

INSERT INTO schema_migrations (version) VALUES ('20150303182558');

INSERT INTO schema_migrations (version) VALUES ('20150303223031');

INSERT INTO schema_migrations (version) VALUES ('20150305202009');

INSERT INTO schema_migrations (version) VALUES ('20150305210957');

INSERT INTO schema_migrations (version) VALUES ('20150305212708');

INSERT INTO schema_migrations (version) VALUES ('20150305224528');

INSERT INTO schema_migrations (version) VALUES ('20150306002147');

INSERT INTO schema_migrations (version) VALUES ('20150306011527');

INSERT INTO schema_migrations (version) VALUES ('20150307225622');

INSERT INTO schema_migrations (version) VALUES ('20150307233225');

INSERT INTO schema_migrations (version) VALUES ('20150308000116');

INSERT INTO schema_migrations (version) VALUES ('20150309124753');

INSERT INTO schema_migrations (version) VALUES ('20150310200029');

INSERT INTO schema_migrations (version) VALUES ('20150311101412');

INSERT INTO schema_migrations (version) VALUES ('20150313115832');

INSERT INTO schema_migrations (version) VALUES ('20150313195132');

INSERT INTO schema_migrations (version) VALUES ('20150317141741');

INSERT INTO schema_migrations (version) VALUES ('20150317173306');

INSERT INTO schema_migrations (version) VALUES ('20150317175052');

INSERT INTO schema_migrations (version) VALUES ('20150317212759');

INSERT INTO schema_migrations (version) VALUES ('20150317215616');

INSERT INTO schema_migrations (version) VALUES ('20150317220250');

INSERT INTO schema_migrations (version) VALUES ('20150317223332');

INSERT INTO schema_migrations (version) VALUES ('20150318011552');

INSERT INTO schema_migrations (version) VALUES ('20150318104551');

INSERT INTO schema_migrations (version) VALUES ('20150318111020');

INSERT INTO schema_migrations (version) VALUES ('20150318155356');

INSERT INTO schema_migrations (version) VALUES ('20150320113252');

INSERT INTO schema_migrations (version) VALUES ('20150320120245');

INSERT INTO schema_migrations (version) VALUES ('20150320120927');

INSERT INTO schema_migrations (version) VALUES ('20150320150307');

INSERT INTO schema_migrations (version) VALUES ('20150320152752');

INSERT INTO schema_migrations (version) VALUES ('20150320170435');

INSERT INTO schema_migrations (version) VALUES ('20150323152947');

INSERT INTO schema_migrations (version) VALUES ('20150324102418');

INSERT INTO schema_migrations (version) VALUES ('20150324111625');

INSERT INTO schema_migrations (version) VALUES ('20150324121948');

INSERT INTO schema_migrations (version) VALUES ('20150324125244');

INSERT INTO schema_migrations (version) VALUES ('20150324133854');

INSERT INTO schema_migrations (version) VALUES ('20150324165655');

INSERT INTO schema_migrations (version) VALUES ('20150324173052');

INSERT INTO schema_migrations (version) VALUES ('20150325140249');

INSERT INTO schema_migrations (version) VALUES ('20150325154326');

INSERT INTO schema_migrations (version) VALUES ('20150326171513');

INSERT INTO schema_migrations (version) VALUES ('20150326175721');

INSERT INTO schema_migrations (version) VALUES ('20150326183540');

INSERT INTO schema_migrations (version) VALUES ('20150326215335');

INSERT INTO schema_migrations (version) VALUES ('20150327115105');

INSERT INTO schema_migrations (version) VALUES ('20150327121907');

INSERT INTO schema_migrations (version) VALUES ('20150330160855');

INSERT INTO schema_migrations (version) VALUES ('20150331143803');

INSERT INTO schema_migrations (version) VALUES ('20150331145858');

INSERT INTO schema_migrations (version) VALUES ('20150407103350');

INSERT INTO schema_migrations (version) VALUES ('20150407171735');

INSERT INTO schema_migrations (version) VALUES ('20150407175819');

INSERT INTO schema_migrations (version) VALUES ('20150407190856');

INSERT INTO schema_migrations (version) VALUES ('20150409103009');

INSERT INTO schema_migrations (version) VALUES ('20150409103143');

INSERT INTO schema_migrations (version) VALUES ('20150409133236');

INSERT INTO schema_migrations (version) VALUES ('20150410080200');

INSERT INTO schema_migrations (version) VALUES ('20150410110656');

INSERT INTO schema_migrations (version) VALUES ('20150411114722');

INSERT INTO schema_migrations (version) VALUES ('20150415164554');

INSERT INTO schema_migrations (version) VALUES ('20150417092325');

INSERT INTO schema_migrations (version) VALUES ('20150417162029');

INSERT INTO schema_migrations (version) VALUES ('20150420202936');

INSERT INTO schema_migrations (version) VALUES ('20150421152809');

INSERT INTO schema_migrations (version) VALUES ('20150421171541');

INSERT INTO schema_migrations (version) VALUES ('20150421212510');

INSERT INTO schema_migrations (version) VALUES ('20150421215545');

INSERT INTO schema_migrations (version) VALUES ('20150421215933');

INSERT INTO schema_migrations (version) VALUES ('20150422093620');

INSERT INTO schema_migrations (version) VALUES ('20150424150004');

INSERT INTO schema_migrations (version) VALUES ('20150427130116');

INSERT INTO schema_migrations (version) VALUES ('20150428092748');

INSERT INTO schema_migrations (version) VALUES ('20150428134652');

INSERT INTO schema_migrations (version) VALUES ('20150428141342');

INSERT INTO schema_migrations (version) VALUES ('20150429093648');

INSERT INTO schema_migrations (version) VALUES ('20150430102554');

INSERT INTO schema_migrations (version) VALUES ('20150501134909');

INSERT INTO schema_migrations (version) VALUES ('20150504112230');

INSERT INTO schema_migrations (version) VALUES ('20150504133720');

INSERT INTO schema_migrations (version) VALUES ('20150505112944');

INSERT INTO schema_migrations (version) VALUES ('20150505171855');

INSERT INTO schema_migrations (version) VALUES ('20150506140414');

INSERT INTO schema_migrations (version) VALUES ('20150506142529');

INSERT INTO schema_migrations (version) VALUES ('20150506154133');

INSERT INTO schema_migrations (version) VALUES ('20150506203339');

INSERT INTO schema_migrations (version) VALUES ('20150507091715');

INSERT INTO schema_migrations (version) VALUES ('20150507093213');

INSERT INTO schema_migrations (version) VALUES ('20150507123637');

INSERT INTO schema_migrations (version) VALUES ('20150507143126');

INSERT INTO schema_migrations (version) VALUES ('20150511130932');

INSERT INTO schema_migrations (version) VALUES ('20150512080145');

INSERT INTO schema_migrations (version) VALUES ('20150512080758');

INSERT INTO schema_migrations (version) VALUES ('20150512083529');

INSERT INTO schema_migrations (version) VALUES ('20150512083631');

INSERT INTO schema_migrations (version) VALUES ('20150512092621');

INSERT INTO schema_migrations (version) VALUES ('20150512153800');

INSERT INTO schema_migrations (version) VALUES ('20150512213049');

INSERT INTO schema_migrations (version) VALUES ('20150513100455');

INSERT INTO schema_migrations (version) VALUES ('20150513201114');

INSERT INTO schema_migrations (version) VALUES ('20150519161054');

INSERT INTO schema_migrations (version) VALUES ('20150521153251');

INSERT INTO schema_migrations (version) VALUES ('20150522112159');

INSERT INTO schema_migrations (version) VALUES ('20150602113439');

INSERT INTO schema_migrations (version) VALUES ('20150603151804');

INSERT INTO schema_migrations (version) VALUES ('20150605210737');

INSERT INTO schema_migrations (version) VALUES ('20150609193330');

INSERT INTO schema_migrations (version) VALUES ('20150610124448');

INSERT INTO schema_migrations (version) VALUES ('20150610140956');

INSERT INTO schema_migrations (version) VALUES ('20150610161959');

INSERT INTO schema_migrations (version) VALUES ('20150610201430');

INSERT INTO schema_migrations (version) VALUES ('20150611091245');

INSERT INTO schema_migrations (version) VALUES ('20150611153606');

INSERT INTO schema_migrations (version) VALUES ('20150611155547');

INSERT INTO schema_migrations (version) VALUES ('20150611155907');

INSERT INTO schema_migrations (version) VALUES ('20150611165251');

INSERT INTO schema_migrations (version) VALUES ('20150614133152');

INSERT INTO schema_migrations (version) VALUES ('20150617100521');

INSERT INTO schema_migrations (version) VALUES ('20150617184024');

INSERT INTO schema_migrations (version) VALUES ('20150627103308');

INSERT INTO schema_migrations (version) VALUES ('20150627122403');

INSERT INTO schema_migrations (version) VALUES ('20150627122936');

INSERT INTO schema_migrations (version) VALUES ('20150627124055');

INSERT INTO schema_migrations (version) VALUES ('20150630091241');

INSERT INTO schema_migrations (version) VALUES ('20150630175013');

INSERT INTO schema_migrations (version) VALUES ('20150706233936');

INSERT INTO schema_migrations (version) VALUES ('20150707001333');

INSERT INTO schema_migrations (version) VALUES ('20150707002151');

INSERT INTO schema_migrations (version) VALUES ('20150707230118');

INSERT INTO schema_migrations (version) VALUES ('20150708121241');

INSERT INTO schema_migrations (version) VALUES ('20150708130459');

INSERT INTO schema_migrations (version) VALUES ('20150708130813');

INSERT INTO schema_migrations (version) VALUES ('20150708131148');

INSERT INTO schema_migrations (version) VALUES ('20150708131844');

INSERT INTO schema_migrations (version) VALUES ('20150708132523');

INSERT INTO schema_migrations (version) VALUES ('20150708141655');

INSERT INTO schema_migrations (version) VALUES ('20150708163215');

INSERT INTO schema_migrations (version) VALUES ('20150708173206');

INSERT INTO schema_migrations (version) VALUES ('20150708195010');

INSERT INTO schema_migrations (version) VALUES ('20150708213314');

INSERT INTO schema_migrations (version) VALUES ('20150709141104');

INSERT INTO schema_migrations (version) VALUES ('20150710134321');

INSERT INTO schema_migrations (version) VALUES ('20150710153709');

INSERT INTO schema_migrations (version) VALUES ('20150710171808');

INSERT INTO schema_migrations (version) VALUES ('20150713143628');

INSERT INTO schema_migrations (version) VALUES ('20150714140130');

INSERT INTO schema_migrations (version) VALUES ('20150714170342');

INSERT INTO schema_migrations (version) VALUES ('20150714172513');

INSERT INTO schema_migrations (version) VALUES ('20150714181242');

INSERT INTO schema_migrations (version) VALUES ('20150715085711');

INSERT INTO schema_migrations (version) VALUES ('20150715110940');

INSERT INTO schema_migrations (version) VALUES ('20150716180649');

INSERT INTO schema_migrations (version) VALUES ('20150716204545');

INSERT INTO schema_migrations (version) VALUES ('20150717102141');

INSERT INTO schema_migrations (version) VALUES ('20150717171009');

INSERT INTO schema_migrations (version) VALUES ('20150722130559');

INSERT INTO schema_migrations (version) VALUES ('20150724143708');

INSERT INTO schema_migrations (version) VALUES ('20150724143919');

INSERT INTO schema_migrations (version) VALUES ('20150724145001');

INSERT INTO schema_migrations (version) VALUES ('20150726093413');

INSERT INTO schema_migrations (version) VALUES ('20150726152310');

INSERT INTO schema_migrations (version) VALUES ('20150726202819');

INSERT INTO schema_migrations (version) VALUES ('20150727094859');

INSERT INTO schema_migrations (version) VALUES ('20150727150742');

INSERT INTO schema_migrations (version) VALUES ('20150727151357');

INSERT INTO schema_migrations (version) VALUES ('20150727153018');

INSERT INTO schema_migrations (version) VALUES ('20150729153930');

INSERT INTO schema_migrations (version) VALUES ('20150729203931');

INSERT INTO schema_migrations (version) VALUES ('20150730082138');

INSERT INTO schema_migrations (version) VALUES ('20150804202632');

INSERT INTO schema_migrations (version) VALUES ('20150804211412');

INSERT INTO schema_migrations (version) VALUES ('20150805102508');

INSERT INTO schema_migrations (version) VALUES ('20150805191913');

INSERT INTO schema_migrations (version) VALUES ('20150810114521');

INSERT INTO schema_migrations (version) VALUES ('20150810142005');

INSERT INTO schema_migrations (version) VALUES ('20150810150302');

INSERT INTO schema_migrations (version) VALUES ('20150810150750');

INSERT INTO schema_migrations (version) VALUES ('20150811191851');

INSERT INTO schema_migrations (version) VALUES ('20150812094220');

INSERT INTO schema_migrations (version) VALUES ('20150812134644');

INSERT INTO schema_migrations (version) VALUES ('20150812135007');

INSERT INTO schema_migrations (version) VALUES ('20150813140429');

INSERT INTO schema_migrations (version) VALUES ('20150813143516');

INSERT INTO schema_migrations (version) VALUES ('20150813145942');

INSERT INTO schema_migrations (version) VALUES ('20150813152332');

INSERT INTO schema_migrations (version) VALUES ('20150813160358');

INSERT INTO schema_migrations (version) VALUES ('20150814072114');

INSERT INTO schema_migrations (version) VALUES ('20150814072243');

INSERT INTO schema_migrations (version) VALUES ('20150814115911');

INSERT INTO schema_migrations (version) VALUES ('20150817154415');

INSERT INTO schema_migrations (version) VALUES ('20150817222354');

INSERT INTO schema_migrations (version) VALUES ('20150817223938');

INSERT INTO schema_migrations (version) VALUES ('20150818103626');

INSERT INTO schema_migrations (version) VALUES ('20150818121615');

INSERT INTO schema_migrations (version) VALUES ('20150818130738');

INSERT INTO schema_migrations (version) VALUES ('20150818133115');

INSERT INTO schema_migrations (version) VALUES ('20150818173956');

INSERT INTO schema_migrations (version) VALUES ('20150818181320');

INSERT INTO schema_migrations (version) VALUES ('20150819090631');

INSERT INTO schema_migrations (version) VALUES ('20150819145125');

INSERT INTO schema_migrations (version) VALUES ('20150819214720');

INSERT INTO schema_migrations (version) VALUES ('20150820122035');

INSERT INTO schema_migrations (version) VALUES ('20150820122053');

INSERT INTO schema_migrations (version) VALUES ('20150820122108');

INSERT INTO schema_migrations (version) VALUES ('20150820122120');

INSERT INTO schema_migrations (version) VALUES ('20150820122139');

INSERT INTO schema_migrations (version) VALUES ('20150820131816');

INSERT INTO schema_migrations (version) VALUES ('20150821164944');

INSERT INTO schema_migrations (version) VALUES ('20150823162143');

INSERT INTO schema_migrations (version) VALUES ('20150823185941');

INSERT INTO schema_migrations (version) VALUES ('20150824102515');

INSERT INTO schema_migrations (version) VALUES ('20150825114734');

INSERT INTO schema_migrations (version) VALUES ('20150826093550');

INSERT INTO schema_migrations (version) VALUES ('20150831110526');

INSERT INTO schema_migrations (version) VALUES ('20150831120241');

INSERT INTO schema_migrations (version) VALUES ('20150831200427');

INSERT INTO schema_migrations (version) VALUES ('20150906093048');

INSERT INTO schema_migrations (version) VALUES ('20150906102918');

INSERT INTO schema_migrations (version) VALUES ('20150906200359');

INSERT INTO schema_migrations (version) VALUES ('20150908160428');

INSERT INTO schema_migrations (version) VALUES ('20150908160919');

INSERT INTO schema_migrations (version) VALUES ('20150908215715');

INSERT INTO schema_migrations (version) VALUES ('20150909133845');

INSERT INTO schema_migrations (version) VALUES ('20150909140944');

INSERT INTO schema_migrations (version) VALUES ('20150910234018');

INSERT INTO schema_migrations (version) VALUES ('20150914151734');

INSERT INTO schema_migrations (version) VALUES ('20150915084816');

INSERT INTO schema_migrations (version) VALUES ('20150915154910');

INSERT INTO schema_migrations (version) VALUES ('20150915162935');

INSERT INTO schema_migrations (version) VALUES ('20150916081343');

INSERT INTO schema_migrations (version) VALUES ('20150916094452');

INSERT INTO schema_migrations (version) VALUES ('20150916224016');

INSERT INTO schema_migrations (version) VALUES ('20150917132556');

INSERT INTO schema_migrations (version) VALUES ('20150917154924');

INSERT INTO schema_migrations (version) VALUES ('20150918080709');

INSERT INTO schema_migrations (version) VALUES ('20150922110924');

INSERT INTO schema_migrations (version) VALUES ('20150922143613');

INSERT INTO schema_migrations (version) VALUES ('20150922144850');

INSERT INTO schema_migrations (version) VALUES ('20150922160628');

INSERT INTO schema_migrations (version) VALUES ('20150922170921');

INSERT INTO schema_migrations (version) VALUES ('20150924143553');

INSERT INTO schema_migrations (version) VALUES ('20150924153844');

INSERT INTO schema_migrations (version) VALUES ('20150924162532');

INSERT INTO schema_migrations (version) VALUES ('20150924165243');

INSERT INTO schema_migrations (version) VALUES ('20150924165323');

INSERT INTO schema_migrations (version) VALUES ('20150925083556');

INSERT INTO schema_migrations (version) VALUES ('20150925121754');

INSERT INTO schema_migrations (version) VALUES ('20150929104230');

INSERT INTO schema_migrations (version) VALUES ('20150929154402');

INSERT INTO schema_migrations (version) VALUES ('20150930094329');

INSERT INTO schema_migrations (version) VALUES ('20150930094340');

INSERT INTO schema_migrations (version) VALUES ('20150930094359');

INSERT INTO schema_migrations (version) VALUES ('20151006090808');

INSERT INTO schema_migrations (version) VALUES ('20151006104058');

INSERT INTO schema_migrations (version) VALUES ('20151006105618');

INSERT INTO schema_migrations (version) VALUES ('20151006111538');

INSERT INTO schema_migrations (version) VALUES ('20151007121230');

INSERT INTO schema_migrations (version) VALUES ('20151007122712');

INSERT INTO schema_migrations (version) VALUES ('20151012142300');

INSERT INTO schema_migrations (version) VALUES ('20151013144431');

INSERT INTO schema_migrations (version) VALUES ('20151014095542');

INSERT INTO schema_migrations (version) VALUES ('20151015172527');

INSERT INTO schema_migrations (version) VALUES ('20151016083332');

INSERT INTO schema_migrations (version) VALUES ('20151016084728');

INSERT INTO schema_migrations (version) VALUES ('20151016140715');

INSERT INTO schema_migrations (version) VALUES ('20151019133722');

INSERT INTO schema_migrations (version) VALUES ('20151020110622');

INSERT INTO schema_migrations (version) VALUES ('20151020152217');

INSERT INTO schema_migrations (version) VALUES ('20151021122832');

INSERT INTO schema_migrations (version) VALUES ('20151021141623');

INSERT INTO schema_migrations (version) VALUES ('20151021164800');

INSERT INTO schema_migrations (version) VALUES ('20151022133242');

INSERT INTO schema_migrations (version) VALUES ('20151023093915');

INSERT INTO schema_migrations (version) VALUES ('20151023093941');

INSERT INTO schema_migrations (version) VALUES ('20151023093951');

INSERT INTO schema_migrations (version) VALUES ('20151023094223');

INSERT INTO schema_migrations (version) VALUES ('20151023094703');

INSERT INTO schema_migrations (version) VALUES ('20151023102123');

INSERT INTO schema_migrations (version) VALUES ('20151023102150');

INSERT INTO schema_migrations (version) VALUES ('20151023102502');

INSERT INTO schema_migrations (version) VALUES ('20151023102526');

INSERT INTO schema_migrations (version) VALUES ('20151023135037');

INSERT INTO schema_migrations (version) VALUES ('20151026121156');

INSERT INTO schema_migrations (version) VALUES ('20151026123827');

INSERT INTO schema_migrations (version) VALUES ('20151026180248');

INSERT INTO schema_migrations (version) VALUES ('20151026215739');

INSERT INTO schema_migrations (version) VALUES ('20151027103128');

INSERT INTO schema_migrations (version) VALUES ('20151028122208');

INSERT INTO schema_migrations (version) VALUES ('20151028144905');

INSERT INTO schema_migrations (version) VALUES ('20151029214203');

INSERT INTO schema_migrations (version) VALUES ('20151102140635');

INSERT INTO schema_migrations (version) VALUES ('20151102141132');

INSERT INTO schema_migrations (version) VALUES ('20151102153547');

INSERT INTO schema_migrations (version) VALUES ('20151102212443');

INSERT INTO schema_migrations (version) VALUES ('20151104184938');

INSERT INTO schema_migrations (version) VALUES ('20151106114734');

INSERT INTO schema_migrations (version) VALUES ('20151110141611');

INSERT INTO schema_migrations (version) VALUES ('20151111125801');

INSERT INTO schema_migrations (version) VALUES ('20151111150359');

INSERT INTO schema_migrations (version) VALUES ('20151111221316');

INSERT INTO schema_migrations (version) VALUES ('20151112115512');

INSERT INTO schema_migrations (version) VALUES ('20151112162734');

INSERT INTO schema_migrations (version) VALUES ('20151112192403');

INSERT INTO schema_migrations (version) VALUES ('20151112201231');

INSERT INTO schema_migrations (version) VALUES ('20151113122518');

INSERT INTO schema_migrations (version) VALUES ('20151113122640');

INSERT INTO schema_migrations (version) VALUES ('20151113161723');

INSERT INTO schema_migrations (version) VALUES ('20151117154018');

INSERT INTO schema_migrations (version) VALUES ('20151117155154');

INSERT INTO schema_migrations (version) VALUES ('20151117163902');

INSERT INTO schema_migrations (version) VALUES ('20151119160520');

INSERT INTO schema_migrations (version) VALUES ('20151119170139');

INSERT INTO schema_migrations (version) VALUES ('20151122183550');

INSERT INTO schema_migrations (version) VALUES ('20151126090817');

INSERT INTO schema_migrations (version) VALUES ('20151126093306');

INSERT INTO schema_migrations (version) VALUES ('20151126201200');

INSERT INTO schema_migrations (version) VALUES ('20151126201219');

INSERT INTO schema_migrations (version) VALUES ('20151126201604');

INSERT INTO schema_migrations (version) VALUES ('20151126201631');

INSERT INTO schema_migrations (version) VALUES ('20151126201638');

INSERT INTO schema_migrations (version) VALUES ('20151126235341');

INSERT INTO schema_migrations (version) VALUES ('20151126235400');

INSERT INTO schema_migrations (version) VALUES ('20151126235500');

INSERT INTO schema_migrations (version) VALUES ('20151126235600');

INSERT INTO schema_migrations (version) VALUES ('20151126235700');

INSERT INTO schema_migrations (version) VALUES ('20151130084214');

INSERT INTO schema_migrations (version) VALUES ('20151130091855');

INSERT INTO schema_migrations (version) VALUES ('20151201143934');

INSERT INTO schema_migrations (version) VALUES ('20151201144404');

INSERT INTO schema_migrations (version) VALUES ('20151202164554');

INSERT INTO schema_migrations (version) VALUES ('20151202164944');

INSERT INTO schema_migrations (version) VALUES ('20151203024206');

INSERT INTO schema_migrations (version) VALUES ('20151207153158');

INSERT INTO schema_migrations (version) VALUES ('20151208140001');

INSERT INTO schema_migrations (version) VALUES ('20151209173515');

INSERT INTO schema_migrations (version) VALUES ('20151209173731');

INSERT INTO schema_migrations (version) VALUES ('20151209174931');

INSERT INTO schema_migrations (version) VALUES ('20151215195244');

INSERT INTO schema_migrations (version) VALUES ('20151219142653');

INSERT INTO schema_migrations (version) VALUES ('20151220142550');

INSERT INTO schema_migrations (version) VALUES ('20151220152011');

INSERT INTO schema_migrations (version) VALUES ('20151220154633');

INSERT INTO schema_migrations (version) VALUES ('20151220154904');

INSERT INTO schema_migrations (version) VALUES ('20151220155014');

INSERT INTO schema_migrations (version) VALUES ('20151220155217');

INSERT INTO schema_migrations (version) VALUES ('20151220155311');

INSERT INTO schema_migrations (version) VALUES ('20151220155817');

INSERT INTO schema_migrations (version) VALUES ('20151221145618');

INSERT INTO schema_migrations (version) VALUES ('20151222104337');

INSERT INTO schema_migrations (version) VALUES ('20151222144949');

INSERT INTO schema_migrations (version) VALUES ('20151223001414');

INSERT INTO schema_migrations (version) VALUES ('20151223005330');

INSERT INTO schema_migrations (version) VALUES ('20151223011618');

INSERT INTO schema_migrations (version) VALUES ('20151224012346');

INSERT INTO schema_migrations (version) VALUES ('20151224231406');

INSERT INTO schema_migrations (version) VALUES ('20151224233733');

INSERT INTO schema_migrations (version) VALUES ('20151225004427');

INSERT INTO schema_migrations (version) VALUES ('20151226223815');

INSERT INTO schema_migrations (version) VALUES ('20151231110309');

INSERT INTO schema_migrations (version) VALUES ('20160102145547');

INSERT INTO schema_migrations (version) VALUES ('20160103161927');

INSERT INTO schema_migrations (version) VALUES ('20160104175514');

INSERT INTO schema_migrations (version) VALUES ('20160104185547');

INSERT INTO schema_migrations (version) VALUES ('20160107160540');

INSERT INTO schema_migrations (version) VALUES ('20160107162950');

INSERT INTO schema_migrations (version) VALUES ('20160107162960');

INSERT INTO schema_migrations (version) VALUES ('20160107163000');

INSERT INTO schema_migrations (version) VALUES ('20160107163500');

INSERT INTO schema_migrations (version) VALUES ('20160107164500');

INSERT INTO schema_migrations (version) VALUES ('20160111105441');

INSERT INTO schema_migrations (version) VALUES ('20160112141107');

INSERT INTO schema_migrations (version) VALUES ('20160112151107');

INSERT INTO schema_migrations (version) VALUES ('20160113143118');

INSERT INTO schema_migrations (version) VALUES ('20160113181934');

INSERT INTO schema_migrations (version) VALUES ('20160113182239');

INSERT INTO schema_migrations (version) VALUES ('20160113182459');

INSERT INTO schema_migrations (version) VALUES ('20160113182857');

INSERT INTO schema_migrations (version) VALUES ('20160113200056');

